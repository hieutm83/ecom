import{I as ma,K as pa,bE as fa,bN as ha,bz as yt,bH as fr,E as ba,bG as xa,B as va,bO as ya,G as ga,bP as ka,Y as wa,r as f,x as Ze,j as r,F as j,d as p,e as P,b as be,p as Pt,o as qe,i as N,bQ as Na,bR as Ca,l as se,a1 as ar,ai as Sa,u as Ea,m as Ra,bS as Aa,c as nr,n as wr,a2 as La,bT as Ta,q as Re,w as Ee,b8 as Ia,a5 as Oa,aj as gt,ak as $a,bU as _a,bV as Pa,bW as Da,bX as za,k as Fa,bY as ja}from"../../../chunk-19e1ba83.js";import{W as qa}from"../../../chunk-0c2a0f3e.js";import{L as Ua,N as Dt,J as je,i as kt,D as Ue,y as Be,O as Ba,o as z,l as Ae,v as Va,w as Wa,x as Ka,z as er,k as Ga,m as rr,P as Qa,R as Ha,U as Ja,V as Xa,X as Ve,I as or,q as Q,r as Za,C as Ya,j as Ma,E as gr,K as en,t as tr,W as Nr,Y as Le,c as zt,h as rn,e as wt,Z as tn,$ as an,a0 as hr,a1 as nn,a2 as on,a3 as Ft,a4 as jt}from"../../../chunk-438c4642.js";import{k as sn,P as pe,Q as cn,f as kr,C as Me,d as sr,u as qt,R as ln,S as Nt,x as un,s as dn,T as Ut,y as Bt,q as Vt,U as mn,V as Ct,W as St,X as Pe,z as Et,r as br,A as pn,B as fn,w as hn,Y as xr,Z as Rt,$ as bn}from"../../../chunk-86e11248.js";import{n as vr}from"../../../chunk-06db561b.js";import"../../../chunk-5d6d9427.js";import"../../../chunk-8505b20b.js";import{s as De}from"../../../chunk-da615678.js";import{u as xn,t as vn}from"../../../chunk-61313ee0.js";import{u as yn}from"../../../chunk-7e8ccf70.js";import{_ as Wt}from"../../../chunk-4b95c2fb.js";import{a as te,b as gn,u as kn,x as wn}from"../../../chunk-ca0b08d6.js";import{s as Nn}from"../../../chunk-23c0931f.js";import{E as fe,F as Cn}from"../../../chunk-5b10abbb.js";import{i as Ye}from"../../../chunk-122d2b2b.js";import{C as Sn}from"../../../chunk-fddf38c8.js";import{f as En}from"../../../chunk-7a5f5565.js";import"../../../chunk-e4587ebd.js";function At(e,t,a){if(!ma(a))return!1;var n=typeof t;return(n=="number"?pa(a)&&fa(t,a.length):n=="string"&&t in a)?ha(a[t],e):!1}var Rn=sn(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}),An=Rn;function Ln(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}function Tn(e,t){if(e!==t){var a=e!==void 0,n=e===null,c=e===e,l=yt(e),o=t!==void 0,u=t===null,s=t===t,b=yt(t);if(!u&&!b&&!l&&e>t||l&&o&&s&&!u&&!b||n&&o&&s||!a&&s||!c)return 1;if(!n&&!l&&!b&&e<t||b&&a&&c&&!n&&!l||u&&a&&c||!o&&c||!s)return-1}return 0}function In(e,t,a){for(var n=-1,c=e.criteria,l=t.criteria,o=c.length,u=a.length;++n<o;){var s=Tn(c[n],l[n]);if(s){if(n>=u)return s;var b=a[n];return s*(b=="desc"?-1:1)}}return e.index-t.index}function On(e,t,a){t.length?t=fr(t,function(l){return ba(l)?function(o){return xa(o,l.length===1?l[0]:l)}:l}):t=[va];var n=-1;t=fr(t,ya(ga));var c=ka(e,function(l,o,u){var s=fr(t,function(b){return b(l)});return{criteria:s,index:++n,value:l}});return Ln(c,function(l,o){return In(l,o,a)})}var $n=Ua(function(e,t){if(e==null)return[];var a=t.length;return a>1&&At(e,t[0],t[1])?t=[]:a>2&&At(t[0],t[1],t[2])&&(t=[t[0]]),On(e,wa(t,1),[])}),_n=$n;function Pn({title:e,titleId:t,...a},n){return f.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),e?f.exports.createElement("title",{id:t},e):null,f.exports.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z",clipRule:"evenodd"}))}const Dn=f.exports.forwardRef(Pn);var zn=Dn;function Fn({title:e,titleId:t,...a},n){return f.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),e?f.exports.createElement("title",{id:t},e):null,f.exports.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z",clipRule:"evenodd"}))}const jn=f.exports.forwardRef(Fn);var qn=jn;function Un({title:e,titleId:t,...a},n){return f.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),e?f.exports.createElement("title",{id:t},e):null,f.exports.createElement("path",{fillRule:"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z",clipRule:"evenodd"}))}const Bn=f.exports.forwardRef(Un);var Vn=Bn;function Kt(e,t){let[a,n]=f.exports.useState(e),c=Dt(e);return je(()=>n(c.current),[c,n,...t]),a}var Wn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Wn||{}),Kn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Kn||{}),Gn=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Gn||{}),Qn=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(Qn||{});function yr(e,t=a=>a){let a=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=en(t(e.options.slice()),l=>l.dataRef.current.domRef.current),c=a?n.indexOf(a):null;return c===-1&&(c=null),{options:n,activeOptionIndex:c}}let Hn={[1](e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:a}=e.dataRef.current,n=e.options.findIndex(c=>a(c.dataRef.current.value));return n!==-1&&(t=n),{...e,listboxState:0,activeOptionIndex:t}},[2](e,t){var a;if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=yr(e),c=wn(t,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeOptionIndex:c,activationTrigger:(a=t.trigger)!=null?a:1}},[3]:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let a=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),c=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+a).concat(e.options.slice(0,e.activeOptionIndex+a)):e.options).find(o=>{var u;return!o.dataRef.current.disabled&&((u=o.dataRef.current.textValue)==null?void 0:u.startsWith(n))}),l=c?e.options.indexOf(c):-1;return l===-1||l===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:l,activationTrigger:1}},[4](e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[5]:(e,t)=>{let a={id:t.id,dataRef:t.dataRef},n=yr(e,c=>[...c,a]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(a)),{...e,...n}},[6]:(e,t)=>{let a=yr(e,n=>{let c=n.findIndex(l=>l.id===t.id);return c!==-1&&n.splice(c,1),n});return{...e,...a,activationTrigger:1}},[7]:(e,t)=>({...e,labelId:t.id})},Cr=f.exports.createContext(null);Cr.displayName="ListboxActionsContext";function We(e){let t=f.exports.useContext(Cr);if(t===null){let a=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,We),a}return t}let Sr=f.exports.createContext(null);Sr.displayName="ListboxDataContext";function Ke(e){let t=f.exports.useContext(Sr);if(t===null){let a=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Ke),a}return t}function Jn(e,t){return Ae(t.type,Hn,e,t)}let Xn=f.exports.Fragment;function Zn(e,t){let{value:a,defaultValue:n,form:c,name:l,onChange:o,by:u=(I,$)=>I===$,disabled:s=!1,horizontal:b=!1,multiple:w=!1,...g}=e;const v=b?"horizontal":"vertical";let h=Be(t),[x=w?[]:void 0,y]=Ba(a,o,n),[R,d]=f.exports.useReducer(Jn,{dataRef:f.exports.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),C=f.exports.useRef({static:!1,hold:!1}),A=f.exports.useRef(null),W=f.exports.useRef(null),X=f.exports.useRef(null),i=z(typeof u=="string"?(I,$)=>{let G=u;return(I==null?void 0:I[G])===($==null?void 0:$[G])}:u),O=f.exports.useCallback(I=>Ae(k.mode,{[1]:()=>x.some($=>i($,I)),[0]:()=>i(x,I)}),[x]),k=f.exports.useMemo(()=>({...R,value:x,disabled:s,mode:w?1:0,orientation:v,compare:i,isSelected:O,optionsPropsRef:C,labelRef:A,buttonRef:W,optionsRef:X}),[x,s,w,R]);je(()=>{R.dataRef.current=k},[k]),Va([k.buttonRef,k.optionsRef],(I,$)=>{var G;d({type:1}),Wa($,Ka.Loose)||(I.preventDefault(),(G=k.buttonRef.current)==null||G.focus())},k.listboxState===0);let S=f.exports.useMemo(()=>({open:k.listboxState===0,disabled:s,value:x}),[k,s,x]),K=z(I=>{let $=k.options.find(G=>G.id===I);$&&D($.dataRef.current.value)}),F=z(()=>{if(k.activeOptionIndex!==null){let{dataRef:I,id:$}=k.options[k.activeOptionIndex];D(I.current.value),d({type:2,focus:te.Specific,id:$})}}),T=z(()=>d({type:0})),ie=z(()=>d({type:1})),le=z((I,$,G)=>I===te.Specific?d({type:2,focus:te.Specific,id:$,trigger:G}):d({type:2,focus:I,trigger:G})),ue=z((I,$)=>(d({type:5,id:I,dataRef:$}),()=>d({type:6,id:I}))),xe=z(I=>(d({type:7,id:I}),()=>d({type:7,id:null}))),D=z(I=>Ae(k.mode,{[0](){return y==null?void 0:y(I)},[1](){let $=k.value.slice(),G=$.findIndex(ye=>i(ye,I));return G===-1?$.push(I):$.splice(G,1),y==null?void 0:y($)}})),Y=z(I=>d({type:3,value:I})),U=z(()=>d({type:4})),M=f.exports.useMemo(()=>({onChange:D,registerOption:ue,registerLabel:xe,goToOption:le,closeListbox:ie,openListbox:T,selectActiveOption:F,selectOption:K,search:Y,clearSearch:U}),[]),ee={ref:h},ve=f.exports.useRef(null),ke=er();return f.exports.useEffect(()=>{ve.current&&n!==void 0&&ke.addEventListener(ve.current,"reset",()=>{y==null||y(n)})},[ve,y]),Ze.createElement(Cr.Provider,{value:M},Ze.createElement(Sr.Provider,{value:k},Ze.createElement(Ga,{value:Ae(k.listboxState,{[0]:rr.Open,[1]:rr.Closed})},l!=null&&x!=null&&Qa({[l]:x}).map(([I,$],G)=>Ze.createElement(Ha,{features:Ja.Hidden,ref:G===0?ye=>{var we;ve.current=(we=ye==null?void 0:ye.closest("form"))!=null?we:null}:void 0,...Xa({key:I,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:c,name:I,value:$})})),Ve({ourProps:ee,theirProps:g,slot:S,defaultTag:Xn,name:"Listbox"}))))}let Yn="button";function Mn(e,t){var a;let n=or(),{id:c=`headlessui-listbox-button-${n}`,...l}=e,o=Ke("Listbox.Button"),u=We("Listbox.Button"),s=Be(o.buttonRef,t),b=er(),w=z(R=>{switch(R.key){case Q.Space:case Q.Enter:case Q.ArrowDown:R.preventDefault(),u.openListbox(),b.nextFrame(()=>{o.value||u.goToOption(te.First)});break;case Q.ArrowUp:R.preventDefault(),u.openListbox(),b.nextFrame(()=>{o.value||u.goToOption(te.Last)});break}}),g=z(R=>{switch(R.key){case Q.Space:R.preventDefault();break}}),v=z(R=>{if(Za(R.currentTarget))return R.preventDefault();o.listboxState===0?(u.closeListbox(),b.nextFrame(()=>{var d;return(d=o.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})})):(R.preventDefault(),u.openListbox())}),h=Kt(()=>{if(o.labelId)return[o.labelId,c].join(" ")},[o.labelId,c]),x=f.exports.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled,value:o.value}),[o]),y={ref:s,id:c,type:Nn(e,o.buttonRef),"aria-haspopup":"listbox","aria-controls":(a=o.optionsRef.current)==null?void 0:a.id,"aria-expanded":o.listboxState===0,"aria-labelledby":h,disabled:o.disabled,onKeyDown:w,onKeyUp:g,onClick:v};return Ve({ourProps:y,theirProps:l,slot:x,defaultTag:Yn,name:"Listbox.Button"})}let eo="label";function ro(e,t){let a=or(),{id:n=`headlessui-listbox-label-${a}`,...c}=e,l=Ke("Listbox.Label"),o=We("Listbox.Label"),u=Be(l.labelRef,t);je(()=>o.registerLabel(n),[n]);let s=z(()=>{var w;return(w=l.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})}),b=f.exports.useMemo(()=>({open:l.listboxState===0,disabled:l.disabled}),[l]);return Ve({ourProps:{ref:u,id:n,onClick:s},theirProps:c,slot:b,defaultTag:eo,name:"Listbox.Label"})}let to="ul",ao=kt.RenderStrategy|kt.Static;function no(e,t){var a;let n=or(),{id:c=`headlessui-listbox-options-${n}`,...l}=e,o=Ke("Listbox.Options"),u=We("Listbox.Options"),s=Be(o.optionsRef,t),b=er(),w=er(),g=Ya(),v=(()=>g!==null?(g&rr.Open)===rr.Open:o.listboxState===0)();f.exports.useEffect(()=>{var d;let C=o.optionsRef.current;C&&o.listboxState===0&&C!==((d=Ma(C))==null?void 0:d.activeElement)&&C.focus({preventScroll:!0})},[o.listboxState,o.optionsRef]);let h=z(d=>{switch(w.dispose(),d.key){case Q.Space:if(o.searchQuery!=="")return d.preventDefault(),d.stopPropagation(),u.search(d.key);case Q.Enter:if(d.preventDefault(),d.stopPropagation(),o.activeOptionIndex!==null){let{dataRef:C}=o.options[o.activeOptionIndex];u.onChange(C.current.value)}o.mode===0&&(u.closeListbox(),gr().nextFrame(()=>{var C;return(C=o.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})}));break;case Ae(o.orientation,{vertical:Q.ArrowDown,horizontal:Q.ArrowRight}):return d.preventDefault(),d.stopPropagation(),u.goToOption(te.Next);case Ae(o.orientation,{vertical:Q.ArrowUp,horizontal:Q.ArrowLeft}):return d.preventDefault(),d.stopPropagation(),u.goToOption(te.Previous);case Q.Home:case Q.PageUp:return d.preventDefault(),d.stopPropagation(),u.goToOption(te.First);case Q.End:case Q.PageDown:return d.preventDefault(),d.stopPropagation(),u.goToOption(te.Last);case Q.Escape:return d.preventDefault(),d.stopPropagation(),u.closeListbox(),b.nextFrame(()=>{var C;return(C=o.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})});case Q.Tab:d.preventDefault(),d.stopPropagation();break;default:d.key.length===1&&(u.search(d.key),w.setTimeout(()=>u.clearSearch(),350));break}}),x=Kt(()=>{var d,C,A;return(A=(d=o.labelRef.current)==null?void 0:d.id)!=null?A:(C=o.buttonRef.current)==null?void 0:C.id},[o.labelRef.current,o.buttonRef.current]),y=f.exports.useMemo(()=>({open:o.listboxState===0}),[o]),R={"aria-activedescendant":o.activeOptionIndex===null||(a=o.options[o.activeOptionIndex])==null?void 0:a.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":x,"aria-orientation":o.orientation,id:c,onKeyDown:h,role:"listbox",tabIndex:0,ref:s};return Ve({ourProps:R,theirProps:l,slot:y,defaultTag:to,features:ao,visible:v,name:"Listbox.Options"})}let oo="li";function so(e,t){let a=or(),{id:n=`headlessui-listbox-option-${a}`,disabled:c=!1,value:l,...o}=e,u=Ke("Listbox.Option"),s=We("Listbox.Option"),b=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===n:!1,w=u.isSelected(l),g=f.exports.useRef(null),v=gn(g),h=Dt({disabled:c,value:l,domRef:g,get textValue(){return v()}}),x=Be(t,g);je(()=>{if(u.listboxState!==0||!b||u.activationTrigger===0)return;let i=gr();return i.requestAnimationFrame(()=>{var O,k;(k=(O=g.current)==null?void 0:O.scrollIntoView)==null||k.call(O,{block:"nearest"})}),i.dispose},[g,b,u.listboxState,u.activationTrigger,u.activeOptionIndex]),je(()=>s.registerOption(n,h),[h,n]);let y=z(i=>{if(c)return i.preventDefault();s.onChange(l),u.mode===0&&(s.closeListbox(),gr().nextFrame(()=>{var O;return(O=u.buttonRef.current)==null?void 0:O.focus({preventScroll:!0})}))}),R=z(()=>{if(c)return s.goToOption(te.Nothing);s.goToOption(te.Specific,n)}),d=kn(),C=z(i=>d.update(i)),A=z(i=>{d.wasMoved(i)&&(c||b||s.goToOption(te.Specific,n,0))}),W=z(i=>{d.wasMoved(i)&&(c||b&&s.goToOption(te.Nothing))}),X=f.exports.useMemo(()=>({active:b,selected:w,disabled:c}),[b,w,c]);return Ve({ourProps:{id:n,ref:x,role:"option",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,"aria-selected":w,disabled:void 0,onClick:y,onFocus:R,onPointerEnter:C,onMouseEnter:C,onPointerMove:A,onMouseMove:A,onPointerLeave:W,onMouseLeave:W},theirProps:o,slot:X,defaultTag:oo,name:"Listbox.Option"})}let io=Ue(Zn),co=Ue(Mn),lo=Ue(ro),uo=Ue(no),mo=Ue(so),ze=Object.assign(io,{Button:co,Label:lo,Options:uo,Option:mo});function po({title:e,titleId:t,...a},n){return f.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),e?f.exports.createElement("title",{id:t},e):null,f.exports.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))}const fo=f.exports.forwardRef(po);var ho=fo;/*!
 * react-paypal-js v7.8.3 (2023-03-27T21:19:05.517Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(Z||(Z={}));var he;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(he||(he={}));var Lt;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(Lt||(Lt={}));var Fe="data-react-paypal-script-id",Te={DATA_CLIENT_TOKEN:"data-client-token",DATA_USER_ID_TOKEN:"data-user-id-token",DATA_SDK_INTEGRATION_SOURCE:"data-sdk-integration-source",DATA_SDK_INTEGRATION_SOURCE_VALUE:"react-paypal-js",DATA_NAMESPACE:"data-namespace"},bo="Failed to load the PayPal JS SDK script.",Gt="paypal",xo="usePayPalScriptReducer must be used within a PayPalScriptProvider",V=function(){return V=Object.assign||function(t){for(var a,n=1,c=arguments.length;n<c;n++){a=arguments[n];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},V.apply(this,arguments)};function vo(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]]);return a}function Tt(e,t,a){if(a||arguments.length===2)for(var n=0,c=t.length,l;n<c;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}function yo(e){return e===void 0&&(e=Gt),window[e]}function go(e){for(var t="",a=0;a<e.length;a++){var n=e[a].charCodeAt(0)*a;e[a+1]&&(n+=e[a+1].charCodeAt(0)*(a-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}function ko(e){var t=e.reactComponentName,a=e.sdkComponentKey,n=e.sdkRequestedComponents,c=n===void 0?"":n,l=e.sdkDataNamespace,o=l===void 0?Gt:l,u=a.charAt(0).toUpperCase().concat(a.substring(1)),s="Unable to render <".concat(t," /> because window.").concat(o,".").concat(u," is undefined.");if(!c.includes(a)){var b=[c,a].filter(Boolean).join();s+=`
To fix the issue, add '`.concat(a,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(b,"'}}>`.")}return s}function Qt(e){return"react-paypal-js-".concat(go(JSON.stringify(e)))}function wo(e){var t=self.document.querySelector("script[".concat(Fe,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function No(e,t){var a;switch(t.type){case he.LOADING_STATUS:return V(V({},e),{loadingStatus:t.value});case he.RESET_OPTIONS:return wo(e.options[Fe]),delete t.value[Fe],V(V({},e),{loadingStatus:Z.PENDING,options:V(V({},t.value),(a={},a[Fe]="".concat(Qt(t.value)),a[Te.DATA_SDK_INTEGRATION_SOURCE]=Te.DATA_SDK_INTEGRATION_SOURCE_VALUE,a))});case he.SET_BRAINTREE_INSTANCE:return V(V({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var Ht=f.exports.createContext(null);function Co(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(xo)}function So(){var e=Co(f.exports.useContext(Ht)),t=V(V({},e),{isInitial:e.loadingStatus===Z.INITIAL,isPending:e.loadingStatus===Z.PENDING,isResolved:e.loadingStatus===Z.RESOLVED,isRejected:e.loadingStatus===Z.REJECTED});return[t,e.dispatch]}f.exports.createContext({});var Er=function(e){var t=e.className,a=t===void 0?"":t,n=e.disabled,c=n===void 0?!1:n,l=e.children,o=e.forceReRender,u=o===void 0?[]:o,s=vo(e,["className","disabled","children","forceReRender"]),b=c?{opacity:.38}:{},w="".concat(a," ").concat(c?"paypal-buttons-disabled":"").trim(),g=f.exports.useRef(null),v=f.exports.useRef(null),h=So()[0],x=h.isResolved,y=h.options,R=f.exports.useState(null),d=R[0],C=R[1],A=f.exports.useState(!0),W=A[0],X=A[1],i=f.exports.useState(null),O=i[1];function k(){v.current!==null&&v.current.close().catch(function(){})}return f.exports.useEffect(function(){if(x===!1)return k;var S=yo(y[Te.DATA_NAMESPACE]);if(S===void 0||S.Buttons===void 0)return O(function(){throw new Error(ko({reactComponentName:Er.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:y.components,sdkDataNamespace:y[Te.DATA_NAMESPACE]}))}),k;var K=function(F,T){C(T),typeof s.onInit=="function"&&s.onInit(F,T)};try{v.current=S.Buttons(V(V({},s),{onInit:K}))}catch(F){return O(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(F))})}return v.current.isEligible()===!1?(X(!1),k):(g.current&&v.current.render(g.current).catch(function(F){g.current===null||g.current.children.length===0||O(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(F))})}),k)},Tt(Tt([x],u,!0),[s.fundingSource],!1)),f.exports.useEffect(function(){d!==null&&(c===!0?d.disable().catch(function(){}):d.enable().catch(function(){}))},[c,d]),r(j,{children:W?r("div",{ref:g,style:b,className:w}):l})};Er.displayName="PayPalButtons";function Eo(e,t){var a=document.querySelector('script[src="'.concat(e,'"]'));if(a===null)return null;var n=Jt(e,t),c=a.cloneNode();if(delete c.dataset.uidAuto,Object.keys(c.dataset).length!==Object.keys(n.dataset).length)return null;var l=!0;return Object.keys(c.dataset).forEach(function(o){c.dataset[o]!==n.dataset[o]&&(l=!1)}),l?a:null}function Ro(e){var t=e.url,a=e.attributes,n=e.onSuccess,c=e.onError,l=Jt(t,a);l.onerror=c,l.onload=n,document.head.insertBefore(l,document.head.firstElementChild)}function Ao(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseURL&&(t=e.sdkBaseURL,delete e.sdkBaseURL),Io(e);var a=Object.keys(e).filter(function(l){return typeof e[l]!="undefined"&&e[l]!==null&&e[l]!==""}).reduce(function(l,o){var u=e[o].toString();return o.substring(0,5)==="data-"?l.dataAttributes[o]=u:l.queryParams[o]=u,l},{queryParams:{},dataAttributes:{}}),n=a.queryParams,c=a.dataAttributes;return{url:"".concat(t,"?").concat(Lo(n)),dataAttributes:c}}function Lo(e){var t="";return Object.keys(e).forEach(function(a){t.length!==0&&(t+="&"),t+=a+"="+e[a]}),t}function To(e){var t=e.split("/* Original Error:")[1];return t?t.replace(/\n/g,"").replace("*/","").trim():e}function Jt(e,t){t===void 0&&(t={});var a=document.createElement("script");return a.src=e,Object.keys(t).forEach(function(n){a.setAttribute(n,t[n]),n==="data-csp-nonce"&&a.setAttribute("nonce",t["data-csp-nonce"])}),a}function Io(e){var t=e["merchant-id"],a=e["data-merchant-id"],n="",c="";return Array.isArray(t)?t.length>1?(n="*",c=t.toString()):n=t.toString():typeof t=="string"&&t.length>0?n=t:typeof a=="string"&&a.length>0&&(n="*",c=a),e["merchant-id"]=n,e["data-merchant-id"]=c,e}function Oo(e,t){if(t===void 0&&(t=Xt()),Zt(e,t),typeof document=="undefined")return t.resolve(null);var a=Ao(e),n=a.url,c=a.dataAttributes,l=c["data-namespace"]||"paypal",o=It(l);return Eo(n,c)&&o?t.resolve(o):$o({url:n,attributes:c},t).then(function(){var u=It(l);if(u)return u;throw new Error("The window.".concat(l," global variable is not available."))})}function $o(e,t){t===void 0&&(t=Xt()),Zt(e,t);var a=e.url,n=e.attributes;if(typeof a!="string"||a.length===0)throw new Error("Invalid url.");if(typeof n!="undefined"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(c,l){if(typeof document=="undefined")return c();Ro({url:a,attributes:n,onSuccess:function(){return c()},onError:function(){var o=new Error('The script "'.concat(a,'" failed to load.'));return window.fetch?fetch(a).then(function(u){return u.status===200&&l(o),u.text()}).then(function(u){var s=To(u);l(new Error(s))}).catch(function(u){l(u)}):l(o)}})})}function Xt(){if(typeof Promise=="undefined")throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function It(e){return window[e]}function Zt(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");if(typeof t!="undefined"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var _o=function(e){var t,a=e.options,n=a===void 0?{"client-id":"test"}:a,c=e.children,l=e.deferLoading,o=l===void 0?!1:l,u=f.exports.useReducer(No,{options:V(V({},n),(t={},t[Fe]="".concat(Qt(n)),t[Te.DATA_SDK_INTEGRATION_SOURCE]=Te.DATA_SDK_INTEGRATION_SOURCE_VALUE,t)),loadingStatus:o?Z.INITIAL:Z.PENDING}),s=u[0],b=u[1];return f.exports.useEffect(function(){if(o===!1&&s.loadingStatus===Z.INITIAL)return b({type:he.LOADING_STATUS,value:Z.PENDING});if(s.loadingStatus===Z.PENDING){var w=!0;return Oo(s.options).then(function(){w&&b({type:he.LOADING_STATUS,value:Z.RESOLVED})}).catch(function(g){console.error("".concat(bo," ").concat(g)),w&&b({type:he.LOADING_STATUS,value:Z.REJECTED})}),function(){w=!1}}},[s.options,o,s.loadingStatus]),r(Ht.Provider,{value:V(V({},s),{dispatch:b}),children:c})};function Po({primary:e}){return p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 4000 3000",children:[r("path",{fill:De(e,.2),d:"M2325.4 479.5c-532.5 0-623.2 620.6-1222.9 620.6s-766.2 1175.8 817 1175.8c1996.1 0 1620-1796.4 405.9-1796.4z",className:"colord3e8f9 svgShape"}),r("path",{fill:De(e,.7),d:"M2931.8 2552.7s-196.7 138.4-694.8 138.4c-498.1 0-641.6-157.6-641.6-157.6l11.4-92.6s193-118.6 651.6-118.6c458.7 0 668.4 118.6 668.4 118.6l5 111.8z",className:"color87b4de svgShape"}),r("path",{fill:e,d:"M1232 632.1s-68.3-90.8 119.8-234.8c0 0-29 54.1 0 92.9 0 0 8.5-85.2 53.4-118.5 44.9-33.2 248.4-65.7 273.6-62.6S1769 353 1769 353s-292.2 368.6-493.6 301.6",className:"color1f3e76 svgShape"}),r("path",{fill:De(e,.9),d:"M1352 549.5v-59l-.2-.6c-28.7-38.8.1-92.6.1-92.6-188.1 144-119.9 234.8-119.9 234.8l43.4 22.5c84.3 28 184.8-20.3 272.8-85.9-112.2 4.8-196.2-19.2-196.2-19.2z",className:"color3279af svgShape"}),r("path",{fill:"none",stroke:pe(e,.1),strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"10",d:"M2931.8 2552.7s-196.7 138.4-694.8 138.4c-498.1 0-641.6-158.1-641.6-158.1l11.4-93.1h0l147.1-1193.1c17.2-139.6 84.6-262 182.9-350.1S2164.3 755 2304.9 753c304.2-4.2 556.7 234 570.3 537.9l51.6 1149.9 5 111.9z",className:"colorStroke1f3e76 svgStroke"}),r("path",{fill:De(e,.9),d:"M2926.8 2440.9s-296.6 111.8-687 111.8-633-111.8-633-111.8 193-118.7 651.7-118.7 668.3 118.7 668.3 118.7z",className:"color3279af svgShape"}),r("path",{fill:"none",stroke:pe(e,.1),strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"10",d:"M2926.8 2440.9s-296.6 111.8-687 111.8-633-111.8-633-111.8",className:"colorStroke1f3e76 svgStroke"}),r("path",{fill:"none",stroke:pe(e,.1),strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"10",d:"M1465.8 1492.7L1353.8 2016",className:"colorStroke1f3e76 svgStroke"}),r("path",{fill:"none",stroke:pe(e,.1),strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"10",d:"M1595.4 1559L1489.3 2056",className:"colorStroke1f3e76 svgStroke"}),r("path",{fill:"none",stroke:pe(e,.1),strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"10",d:"M2330.2 753.5L2274.4 2552.4",className:"colorStroke1f3e76 svgStroke"}),r("path",{fill:"none",stroke:pe(e,.1),strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"10",d:"M2519.3 792.3s90.8 72.5 105.1 615.6c14.2 543.1-6.3 1111.3-6.3 1111.3m-603.8-430.6c-12.2 249.6-21.6 448.8-21.6 448.8m163.3-1762s-78.2 113.9-98.6 470.8c-4.2 73.2-9.4 170.8-15 279.6m-271.5 538.6c-17.4 234-29.2 423-29.2 423m236.8-1624.3s-90.4 124.3-137.4 454.3c-9 63.1-18.2 144.9-27.1 235.8m903.6-628.3s57.1 158.3 81.7 392.5 37.9 1152 37.9 1152",className:"colorStroke1f3e76 svgStroke"}),r("path",{fill:"none",stroke:pe(e,.1),strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"10",d:"M2856.7 1170.5s-200.5-97.8-554.4-97.8-533.5 97.8-533.5 97.8 242.1 74.3 533.5 74.3 554.4-74.3 554.4-74.3z",className:"colorStroke1f3e76 svgStroke"}),r("path",{fill:"none",stroke:De(e,.7),strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"10",d:"M1375.6 1709.1s-140.4.2-262.4-229.7 2.1-372.2 97.5-357.8 95.9 197.9-39.5 189c-84.3-5.5-253.7-204-84.6-468.4",className:"colorStroke87b4de svgStroke"}),r("path",{fill:cn(e,.06),d:"M1163.4 789.8s193.3-289.3 515.4-418.1c0 0-177.7 29.8-446.8 260.4-61.5 52.7-68.6 157.7-68.6 157.7z",className:"color87b4de svgShape"}),r("path",{fill:"none",stroke:pe(e,.1),strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"10",d:"M2286.9 751.8s-43.2-30.1-43.2-71.1c0-41 23.4-80.5 84.9-80.5 61.4 0 78.5 42 78.5 81.1 0 39.2-47.9 71.6-47.9 71.6m-703.4 1290.4s276.4-27.3 635.2-27.3 618.2 32.9 618.2 32.9-192.8 47.7-620.7 47.7-632.7-53.3-632.7-53.3-61.2 42.3-227.4 0-210.9-162.5-210.9-162.5l146.3-490.8s66.9 93.7 166.9 143.8c100 50.1 183.3 37.1 183.3 37.1s229.9-55 592.5-55 581.2 55 581.2 55-243.9 25.8-583.8 25.8-590-25.8-590-25.8",className:"colorStroke1f3e76 svgStroke"})]})}const Yt=({options:e,value:t,onChange:a,error:n,label:c,id:l})=>p(j,{children:[p("div",{className:"has-hover:hidden",children:[r("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700",children:c}),r("div",{className:"mt-1",children:r("select",{id:l,className:P(n?"border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:outline-none focus:ring-red-500":"border-gray-300 focus:border-primary/75 focus:ring-primary/75","block w-full rounded-lg text-sm shadow-sm"),value:t,onChange:a,children:e==null?void 0:e.map(o=>r("option",{children:o.value},o.id))})})]}),p(ze,{as:"div",value:t,onChange:a,className:"relative hidden has-hover:block",children:[r(ze.Label,{className:"block text-sm font-medium text-gray-700",children:c}),p("div",{className:"mt-1",children:[p(ze.Button,{className:P(n?"border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:outline-none focus:ring-red-500":"border-gray-300 focus:border-primary/75 focus:ring-primary/75","relative min-h-[38px] w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left text-sm text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 sm:leading-[22px]"),children:[t,r("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:r(ho,{className:"h-5 w-5 text-gray-400"})})]}),r(tr,{as:f.exports.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:r(ze.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-lg bg-white py-1 text-sm shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:e==null?void 0:e.map(o=>r(ze.Option,{value:o.value,className:({active:u})=>`relative cursor-default select-none py-2 pl-3 pr-9 ${u?"bg-primary text-white":"text-gray-900"}`,children:o.value},o.id))})})]})]})]}),Do=f.exports.lazy(()=>Wt(()=>import("../../../time-picker.a8a0368c.js"),["assets/time-picker.a8a0368c.js","assets/chunk-19e1ba83.js","assets/chunk-438c4642.js","assets/product-card.402781d2.css","assets/chunk-06db561b.js","assets/chunk-5d6d9427.js","assets/chunk-8505b20b.js","assets/chunk-86e11248.js","assets/chunk-e4587ebd.js","assets/chunk-23c0931f.js","assets/chunk-ca0b08d6.js","assets/chunk-5b10abbb.js","assets/chunk-7a5f5565.js","assets/chunk-f94318c2.js","assets/chunk-7119b42f.js","assets/chunk-0c2a0f3e.js","assets/chunk-da615678.js","assets/chunk-61313ee0.js","assets/chunk-7e8ccf70.js","assets/chunk-4b95c2fb.js","assets/chunk-122d2b2b.js","assets/chunk-fddf38c8.js"])),zo=f.exports.lazy(()=>Wt(()=>import("../../../date-picker.76395a29.js"),["assets/date-picker.76395a29.js","assets/chunk-4b95c2fb.js","assets/chunk-19e1ba83.js","assets/chunk-f4895cdb.js","assets/chunk-7a5f5565.js","assets/chunk-7119b42f.js","assets/chunk-f94318c2.js","assets/chunk-438c4642.js","assets/product-card.402781d2.css","assets/chunk-06db561b.js","assets/chunk-5d6d9427.js","assets/chunk-8505b20b.js","assets/chunk-86e11248.js","assets/chunk-e4587ebd.js","assets/chunk-15eb9620.js","assets/chunk-dcf9e478.js","assets/chunk-5b10abbb.js","assets/chunk-0c2a0f3e.js","assets/chunk-da615678.js","assets/chunk-61313ee0.js","assets/chunk-7e8ccf70.js","assets/chunk-ca0b08d6.js","assets/chunk-23c0931f.js","assets/chunk-122d2b2b.js","assets/chunk-fddf38c8.js"])),Fo=/^name$|^number$|^email$/,jo=({register:e,control:t,errors:a,setValue:n,setFocus:c})=>{var h;const l=be(),{hasFeature:o}=Pt(),u=o("customCheckoutFields"),{shippingMethods:s,formFields:b}=qe(),w=f.exports.useMemo(()=>u?kr(b,{enabled:!0}):b==null?void 0:b.filter(x=>(x==null?void 0:x.enabled)&&Fo.test(x==null?void 0:x.id)),[b,u]),g=f.exports.useMemo(()=>Me(s,x=>(x==null?void 0:x.id)!=="pickup"&&(x==null?void 0:x.enabled)),[s]),v=w&&w.map(x=>{var A,W,X,i,O,k,S,K,F;const{label:y,type:R,id:d,required:C}=x||{};switch(R){case"text":return p("div",{className:"checkout-form-field checkout-form-field--text sm:col-span-6",children:[r("label",{htmlFor:y,className:"checkout-form-label block text-sm font-medium text-gray-700",children:y}),p("div",{className:"checkout-form-input-wrapper relative mt-1",children:[r("input",{id:y,type:"text",className:P(N(a,d)?"checkout-form-input--error border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:outline-none focus:ring-red-500":"checkout-form-input border-gray-300 focus:border-primary/75 focus:ring-primary/75","checkout-form-input block w-full rounded-lg text-sm shadow-sm"),...e(d,{required:C&&((A=l.thisIsRequired)!=null?A:"This is required.")})}),N(a,d)&&r("div",{className:"checkout-form-error-icon pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r(fe,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),N(a,d)&&r("p",{className:"checkout-form-error-message mt-2 text-sm text-red-600",id:`${d}-error`,children:N(a,`${d}.message`)})]},d);case"email":return p("div",{className:"checkout-form-field checkout-form-field--email sm:col-span-6",children:[r("label",{htmlFor:d,className:"checkout-form-label block text-sm font-medium text-gray-700",children:y}),p("div",{className:"checkout-form-input-wrapper relative mt-1",children:[r("input",{id:d,type:"email",autoComplete:"on",className:P(N(a,d)?"checkout-form-input--error border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:outline-none focus:ring-red-500":"checkout-form-input border-gray-300 focus:border-primary/75 focus:ring-primary/75","checkout-form-input block w-full rounded-lg text-sm shadow-sm"),...e(d,{required:C&&((W=l.thisIsRequired)!=null?W:"This is required."),pattern:{value:Ca,message:(X=l.invalidEmail)!=null?X:"Invalid email address."}})}),N(a,d)&&r("div",{className:"checkout-form-error-icon pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r(fe,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),N(a,d)&&r("p",{className:"checkout-form-error-message mt-2 text-sm text-red-600",id:`${d}-error`,children:N(a,`${d}.message`)})]},d);case"number":return p("div",{className:"checkout-form-field checkout-form-field--number sm:col-span-6",children:[r("div",{className:"checkout-form-label-wrapper flex justify-between",children:r("label",{htmlFor:d,className:"checkout-form-label block text-sm font-medium text-gray-700",children:y})}),p("div",{className:"checkout-form-input-wrapper relative mt-1",children:[r("input",{id:d,type:"text",className:P(N(a,d)?"checkout-form-input--error border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:outline-none focus:ring-red-500":"checkout-form-input border-gray-300 focus:border-primary/75 focus:ring-primary/75","checkout-form-input block w-full rounded-lg text-sm shadow-sm"),onBeforeInput:T=>{/^[0-9*#+()\- ]+$/.test(T.data)||T.preventDefault()},...e(d,{required:C&&((i=l.thisIsRequired)!=null?i:"This is required."),minLength:{value:8,message:(O=l.invalidPhone)!=null?O:"Invalid Phone number."},maxLength:{value:15,message:(k=l.invalidPhone)!=null?k:"Invalid Phone number."},pattern:{value:Na,message:(S=l.invalidPhone)!=null?S:"Invalid Phone number."}})}),N(a,d)&&r("div",{className:"checkout-form-error-icon pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r(fe,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),N(a,d)&&r("p",{className:"checkout-form-error-message mt-2 text-sm text-red-600",id:"number-error",children:N(a,`${d}.message`)})]},d);case"textarea":return d==="address"&&g?null:p("div",{className:"checkout-form-field checkout-form-field--textarea sm:col-span-6",children:[r("label",{htmlFor:d,className:"checkout-form-label block text-sm font-medium text-gray-700",children:y}),p("div",{className:"checkout-form-input-wrapper relative mt-1",children:[r("textarea",{rows:3,type:"text",id:d,autoComplete:"on",className:P(N(a,d)?"checkout-form-input--error border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:outline-none focus:ring-red-500":"checkout-form-input border-gray-300 focus:border-primary/75 focus:ring-primary/75","checkout-form-input checkout-form-textarea block w-full resize-none rounded-lg text-sm shadow-sm"),...e(d,{required:C&&((K=l.thisIsRequired)!=null?K:"This is required.")})}),N(a,d)&&r("div",{className:"checkout-form-error-icon pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r(fe,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),N(a,d)&&r("p",{className:"checkout-form-error-message mt-2 text-sm text-red-600",id:`${d}-error`,children:N(a,`${d}.message`)})]},d);case"dropdown":{const T=N(x,"options");return T!=null&&T.length?r("div",{className:"checkout-form-field checkout-form-field--dropdown sm:col-span-6",children:r(Nr,{render:({field:{value:ie,onChange:le},fieldState:{error:ue}})=>r(Yt,{options:T,id:d,value:ie,onChange:le,error:ue,label:y}),name:d,control:t,rules:{required:C&&((F=l.thisIsRequired)!=null?F:"This is required.")},defaultValue:N(T,"[0].value")})},d):null}case"radio":return p("div",{className:"checkout-form-field checkout-form-field--radio sm:col-span-6",children:[r("div",{className:"checkout-form-label-wrapper flex justify-between",children:r("label",{htmlFor:y,className:"checkout-form-label block text-sm font-medium text-gray-700",children:y})}),p("fieldset",{className:"checkout-form-radio-group mt-4",children:[r("legend",{className:"sr-only",children:y}),r("div",{className:"checkout-form-radio-options space-y-4 sm:flex sm:flex-wrap sm:items-center sm:gap-x-10 sm:gap-y-4 sm:space-y-0",children:x==null?void 0:x.options.map((T,ie)=>p("div",{className:"checkout-form-radio-option flex items-center",children:[r("input",{id:T.id,type:"radio",defaultChecked:ie===0,value:T.value,className:"checkout-form-radio-input h-4 w-4 border-gray-300 text-primary focus:ring-primary/75",...e(d)}),r("label",{htmlFor:T.id,className:"checkout-form-radio-label ms-3 block text-sm font-medium text-gray-700",children:T.value})]},T.id))})]})]},d);case"date":{const T={field:x,register:e,control:t,setValue:n,setFocus:c,errors:a};return p("div",{className:"checkout-form-field checkout-form-field--date sm:col-span-6",children:[r("label",{htmlFor:d,className:"checkout-form-label block text-sm font-medium text-gray-700",children:y}),r("div",{className:"checkout-form-input-wrapper relative mt-1",children:r(f.exports.Suspense,{fallback:p("div",{className:"checkout-form-date-picker-fallback relative",children:[r("input",{type:"text",readOnly:!0,className:"checkout-form-input checkout-form-date-input block w-full rounded-lg border-gray-300 text-sm shadow-sm"}),r("div",{className:"checkout-form-date-icon absolute inset-y-0 right-0 flex cursor-pointer items-center pr-2",children:r(zn,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),children:r(zo,{...T})})}),N(a,d)&&r("p",{className:"checkout-form-error-message mt-2 text-sm text-red-600",id:`${d}-error`,children:N(a,`${d}.message`)})]},d)}case"time":{const T={field:x,register:e,control:t,setValue:n,setFocus:c,errors:a};return p("div",{className:"checkout-form-field checkout-form-field--time sm:col-span-6",children:[r(f.exports.Suspense,{fallback:p(j,{children:[r("label",{htmlFor:d,className:"checkout-form-label block text-sm font-medium text-gray-700",children:y}),p("div",{className:"checkout-form-time-picker-fallback relative mt-1",children:[r("input",{type:"text",readOnly:!0,className:"checkout-form-input checkout-form-time-input block w-full rounded-lg border-gray-300 text-sm shadow-sm"}),r("div",{className:"checkout-form-time-icon absolute inset-y-0 right-0 flex cursor-pointer items-center pr-2",children:r(qn,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]})]}),children:r(Do,{...T})}),N(a,d)&&r("p",{className:"checkout-form-error-message mt-2 text-sm text-red-600",id:`${d}-error`,children:N(a,`${d}.message`)})]},d)}case"message":{const{message:T}=x;return p("div",{className:"checkout-form-field checkout-form-field--message sm:col-span-6",children:[r("label",{htmlFor:d,className:"checkout-form-label block text-sm font-medium text-gray-700",children:y}),r("div",{className:"checkout-form-message-wrapper relative mt-1 space-y-2",children:r("div",{className:"checkout-form-message checkout-message text-sm",dangerouslySetInnerHTML:{__html:T}})})]},d)}default:return null}});return p("div",{className:"checkout-form",children:[r("h2",{className:"checkout-form-title text-lg font-medium text-gray-900",children:(h=l.checkoutDetails)!=null?h:"Checkout details"}),r("div",{className:"checkout-form-content mt-4",children:r("div",{className:"checkout-form-fields mt-6 grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-6 ",children:v})})]})},qo=({control:e,paymentOptions:t,codEnabled:a,errors:n})=>{var u;const c=be(),l=f.exports.useMemo(()=>{var s,b,w,g;return{PayPal:(s=c.paypal)!=null?s:"PayPal",Stripe:(b=c.card)!=null?b:"Card",Cash:(w=c.cash)!=null?w:"Cash",Razorpay:(g=c.razorpay)!=null?g:"Razorpay"}},[c]),o=f.exports.useMemo(()=>{if((t==null?void 0:t.length)>1)return"";const s=t[0];return s!=null&&s.paymentLink?s==null?void 0:s.name:s==null?void 0:s.type},[t]);return p("div",{className:"payment-methods mt-12 border-t pt-8",children:[p("div",{className:"payment-methods-header relative flex items-center",id:"payment-method",children:[r("h2",{className:"payment-methods-title text-lg font-medium text-gray-900",children:(u=c.payment)!=null?u:"Payment"}),N(n,"paymentMethod")&&r("div",{className:"payment-methods-error-icon pointer-events-none ps-3",children:r(fe,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),r("div",{className:"payment-methods-options mt-6",children:r(Nr,{render:({field:{value:s,onChange:b},fieldState:{error:w}})=>{var g;return p(j,{children:[r(Le,{value:s,onChange:b,children:r("div",{className:"payment-methods-grid mt-1 grid grid-cols-1 gap-4 xs:flex xs:flex-wrap",children:t.map(v=>{var h;return r(Le.Option,{as:"div",value:(v==null?void 0:v.paymentLink)||(v==null?void 0:v.type)==="Custom"?v==null?void 0:v.name:v==null?void 0:v.type,className:({active:x,checked:y})=>P(y?"border-transparent":"border-gray-300",x?"ring-2 ring-primary/75":"","payment-method-option relative block min-w-[121px] cursor-pointer rounded-lg border bg-white p-4 shadow-sm focus:outline-none sm:min-w-[160px]"),children:({active:x,checked:y})=>{var R,d,C;return p(j,{children:[p(Le.Label,{as:"p",className:"payment-method-label flex items-center text-base font-medium text-gray-900",children:[r("img",{className:"payment-method-icon",src:v!=null&&v.paymentLink?`http://www.google.com/s2/favicons?sz=48&domain=${v.paymentLink}`:(v==null?void 0:v.type)==="Custom"?(v==null?void 0:v.icon)||"/cash.svg":`/${An((R=v.type)==null?void 0:R.toLowerCase())}.svg`,alt:(d=v.name)!=null?d:v.type,width:24,height:24}),r("span",{className:"payment-method-name ms-3 flex-1 text-xs font-normal uppercase tracking-widest",children:(C=v.name)!=null?C:l[v.type]})]}),r("div",{className:P(x?"border":"border-2",y?"border-primary/75":"border-transparent","payment-method-selected-indicator pointer-events-none absolute -inset-px rounded-lg"),"aria-hidden":"true"})]})}},(h=v.name)!=null?h:v.type)})})}),N(n,"paymentMethod")&&r("p",{className:"payment-methods-error-message mt-2 text-sm text-red-600",children:(g=c.selectPaymentMethodAlert)!=null?g:"Select a payment method to continue"})]})},control:e,name:"paymentMethod",defaultValue:o,rules:{required:!0}})})]})},Uo={addressLine1:"address-line1",addressLine2:"address-line2",city:"address-level2",state:"address-level1",zip:"postal-code",country:"country"},Bo=({shippingMethods:e,shippingMethodError:t,setShippingMethodError:a,register:n,control:c,errors:l})=>{var R,d,C,A,W,X;const{shippingMethod:o,subTotal:u}=se(sr),{formFields:s}=qe(),b=be(),w=qt();f.exports.useMemo(()=>Me(s,{id:"address",enabled:!0}),[s]);const g=f.exports.useCallback(i=>i&&(i==null?void 0:i.id)!=="pickup"&&Ye(i==null?void 0:i.minOrderAmount)&&u<(i==null?void 0:i.minOrderAmount),[u]),v=ln(g),h=f.exports.useCallback(i=>i&&!g(i)&&Ye(i==null?void 0:i.freeDeliveryAbove)&&u<(i==null?void 0:i.freeDeliveryAbove),[u,g]);f.exports.useEffect(()=>{if(!o){const i=Me(e,v);i&&(w(Nt(i)),a(null))}},[o,w,e,u,v,a]);const{formatCurrency:x}=ar(),y=f.exports.useMemo(()=>{var i;return(i=_n(e,["freeDeliveryAbove"]))==null?void 0:i.reduce((O,k)=>{var S;return(k==null?void 0:k.id)==="pickup"||h(k)&&O.push(p("p",{className:"mt-2 text-xs font-normal text-gray-700",children:[r("b",{children:x(k.freeDeliveryAbove-u)})," ",(S=b.shippingSubTotalLessThanFree)!=null?S:"away from free"," ",p("b",{children:[k==null?void 0:k.label,"!"]})]},k==null?void 0:k.id)),O},[])},[e,u,x,h,b]);return p("div",{className:"shipping-methods mt-12 border-t pt-8",children:[p("div",{className:"shipping-methods-header relative flex items-center",id:"shipping-method",children:[r("h2",{className:"shipping-methods-title text-lg font-medium text-gray-900",children:(R=b.shipping)!=null?R:"Shipping"}),t&&r("div",{className:"shipping-methods-error-icon pointer-events-none ps-3",children:r(fe,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),r("div",{className:"shipping-methods-options mt-6",children:r(Le,{value:(d=o==null?void 0:o.id)!=null?d:"pickup",onChange:i=>{a(null),w(Nt(Me(e,{id:i})))},children:r("div",{className:P("shipping-methods-grid mt-1 grid grid-cols-1 gap-4 [grid-auto-rows:1fr] sm:grid-cols-2"),children:e.map(i=>r("div",{className:"shipping-method-item flex flex-col",children:r(Le.Option,{as:"div",value:i.id,className:({active:O,disabled:k})=>P(O?"ring-2 ring-primary/75":"","shipping-method-option relative block h-full min-w-[121px] cursor-pointer rounded-lg border border-gray-300 bg-white p-4 shadow-sm focus:outline-none",k&&"cursor-default opacity-50"),disabled:g(i),children:({active:O,checked:k})=>{var S;return p(j,{children:[p(Le.Label,{as:"p",className:"shipping-method-label flex items-center text-base font-medium text-gray-900",children:[p("span",{className:"flex flex-1 flex-col gap-1",children:[p("span",{className:"shipping-method-name flex-1 text-sm font-normal",children:[i==null?void 0:i.label," ",g(i)?p("span",{className:"shipping-method-min-order text-xs",children:[" ","(",r("b",{children:x(i==null?void 0:i.minOrderAmount)})," ",(S=b.minOrder)!=null?S:"min order",")"]}):""]}),r("span",{className:"shipping-method-description text-xs font-normal text-gray-500",children:i==null?void 0:i.description})]}),(i==null?void 0:i.shippingFeeType)!=="collectLater"&&r("span",{className:P("shipping-method-price ms-3 self-start text-xs leading-5",(i==null?void 0:i.rate)===0||Ye(i.freeDeliveryAbove)&&u>=i.freeDeliveryAbove?"font-medium uppercase tracking-wide":"font-medium "),children:(i==null?void 0:i.rate)===0||Ye(i.freeDeliveryAbove)&&u>=i.freeDeliveryAbove?b.free||"FREE":x(i==null?void 0:i.rate)})]}),r("div",{className:P(O?"border":"border-2",k?"border-primary/75":"border-transparent","shipping-method-selected-indicator pointer-events-none absolute -inset-px rounded-lg"),"aria-hidden":"true"})]})}},i.id)},i==null?void 0:i.id))})})}),o&&(o==null?void 0:o.id)==="pickup"&&!!((C=o==null?void 0:o.pickupLocations)!=null&&C.length)&&r("div",{className:"pickup-location-container mt-6 rounded-lg sm:col-span-6",children:r(Nr,{render:({field:{value:i,onChange:O},fieldState:{error:k}})=>r(Yt,{options:o==null?void 0:o.pickupLocations,value:i,onChange:O,error:k,label:"Pickup Location",id:"pickupAddress"}),control:c,name:"pickupAddress",defaultValue:(A=o==null?void 0:o.pickupLocations[0])==null?void 0:A.value})}),o&&(o==null?void 0:o.id)!=="pickup"&&(o==null?void 0:o.collectDeliveryAddress)&&!!((W=o==null?void 0:o.addressFields)!=null&&W.length)&&r("div",{className:"delivery-address-container mt-6 grid grid-cols-1 gap-x-4 gap-y-6 empty:hidden sm:grid-cols-6",children:(X=o==null?void 0:o.addressFields)==null?void 0:X.map(i=>{var k,S;return(i==null?void 0:i.enabled)?p("div",{className:Sa("delivery-address-field sm:col-span-6",["city","state","zip"].includes(i==null?void 0:i.id)&&"sm:col-span-3"),children:[r("label",{htmlFor:i==null?void 0:i.id,className:"delivery-address-label block text-sm font-medium text-gray-700",children:i==null?void 0:i.label}),p("div",{className:"delivery-address-input-container relative mt-1",children:[r("input",{id:i==null?void 0:i.id,type:"text",autoComplete:Uo[i==null?void 0:i.id],className:P(N(l,`deliveryAddress.${i==null?void 0:i.id}`)?"border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:outline-none focus:ring-red-500":"border-gray-300 focus:border-primary/75 focus:ring-primary/75","delivery-address-input block w-full rounded-lg text-sm shadow-sm"),...n(`deliveryAddress.${i==null?void 0:i.id}`,{required:i!=null&&i.required?(k=b.thisIsRequired)!=null?k:"This is required.":!1,...(i==null?void 0:i.id)==="zip"&&{pattern:{value:/^(?=^.{3,12}$)(?=^.*[-\s]{0,1}.*$)[a-z0-9]+(?:[-\s][a-z0-9]+)?$/i,message:(S=b.invalidZip)!=null?S:"Invalid zip code."}}})}),N(l,`deliveryAddress.${i==null?void 0:i.id}`)&&r("div",{className:"delivery-address-error-icon pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r(fe,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),N(l,`deliveryAddress.${i==null?void 0:i.id}`)&&r("p",{className:"delivery-address-error-message mt-2 text-sm text-red-600",id:`deliveryAddress.${i==null?void 0:i.id}-error`,children:N(l,`deliveryAddress.${i==null?void 0:i.id}.message`)})]},i==null?void 0:i.id):null})}),y==null?void 0:y[0],t&&r("p",{className:"shipping-method-error mt-2 text-sm text-red-600",children:t})]})},Ot=(e,t)=>{let a="";return!t||!e?a:(t==="PayPal"&&(a=Pa+e),t==="Stripe"&&(a=Da+e),t==="Razorpay"&&(a=za+e),a?`=HYPERLINK("${a}", "${e}")`:"")},Vo=e=>{if(!e)return"";const{addressLine1:t,addressLine2:a,city:n,state:c,zip:l,...o}=e;let u="";return t&&(u+=t),a&&(u+=`, ${a}`),n&&(u+=`, ${n}`),c&&(u+=`, ${c}`),l&&(u+=`, ${l}`),Object.keys(o).forEach(b=>{o[b]&&(u+=`, ${o[b]}`)}),u},$t=({error:e})=>{var jr,qr,Ur,Br,Vr,Wr,Kr,Gr,Qr,Hr,Jr,Xr,Zr,Yr,Mr,et,rt,tt,at,nt,ot,st,it,ct,lt,ut,dt;const{loading:t,revalidating:a,unavailableProducts:n,priceChange:c,stockExceededItems:l,shipping:o,shippingMethod:u,...s}=se(sr),b=se(un),w=se(dn),g=se(Ut),v=se(Bt),h=Ea(),{hasCoupons:x}=Ra();Aa();const y=nr(),{storeOpen:R}=y,d=!R,C=wr(),A=qe(),W=La(),{templateName:X,checkFeature:i}=zt(),{formatCartItems:O,stringifyOrder:k}=xn(),S=be(),K=yn(),{formatCurrency:F,currencyCode:T,currencyData:ie}=ar();Ta();const{hasFeature:le}=Pt(),ue=le("paymentMethods"),xe=le("customShippingMethods"),{isPreview:D}=Vt(),[Y,U]=f.exports.useState(!1),[M,ee]=f.exports.useState(!1),[ve,ke]=f.exports.useState(e!=null?e:null),[I,$]=f.exports.useState(null),[G,ye]=f.exports.useState(!1),{formFields:we,shippingMethods:Ie,enabled:Mt}=A,{whatsappEnabled:Rr,whatsappNumber:Ar,orderTracking:Yo}=A.orders||{},{paymentMethods:Ne}=A.payments||{},q=qt();Mt||vr("/",{overwriteLastHistoryEntry:!0});const ir=se(mn),Lr=ir.findIndex(m=>m.current),B=ir[Lr],Tr=m=>{Lr!==m&&(q(Ct(m)),window.scrollTo({behavior:"smooth",top:0}))},[Ir,Ge]=f.exports.useState("idle");f.exports.useEffect(()=>{(i("skipCartView")||g)&&q(Ct(1))},[q,i,g]),f.exports.useEffect(()=>()=>q(St()),[q]);const Qe=f.exports.useMemo(()=>Rr&&Ar,[Rr,Ar]),de=f.exports.useMemo(()=>ue?Ne==null?void 0:Ne.filter(m=>(m==null?void 0:m.type)==="Stripe"?(m==null?void 0:m.enabled)&&((m==null?void 0:m.detailsSubmitted)&&(m==null?void 0:m.chargesEnabled)||(m==null?void 0:m.publisherKey)):m==null?void 0:m.enabled):kr(Ne,{enabled:!0,type:"Cash"}),[Ne,ue]),cr=f.exports.useMemo(()=>xe?kr(Ie,{enabled:!0}):Ie==null?void 0:Ie.filter(m=>(m==null?void 0:m.enabled)&&["pickup","delivery"].includes(m==null?void 0:m.id)),[Ie,xe]),Ce=f.exports.useMemo(()=>!Re(cr),[cr]),Or=f.exports.useCallback(async m=>{var _;const L=await Ee.post(`/checkout/${h}/place-order`,m).then(E=>E.data);if(typeof window.fbq=="function"&&window.fbq("track","Purchase",{currency:T,value:N(m,"cartData.total")}),typeof window.gtag=="function"&&window.gtag("event","purchase",{currency:T,transaction_id:L.orderNumber,value:N(m,"cartData.total"),items:(_=N(m,"cartData.products",[]))==null?void 0:_.map(E=>({item_id:Ia(E.name+" - "+E.variantString),item_name:E.name,item_variant:E.variantString,price:E.price,quantity:E.qty}))}),rn.emitOrderPlaced(L),L!=null&&L.whatsappUrl){if(Pe.removeItem("sl-cart"),window.self!==window.top)try{window.top.location.replace(L==null?void 0:L.whatsappUrl)}catch{window.open(L==null?void 0:L.whatsappUrl)}else window.location.replace(L==null?void 0:L.whatsappUrl);return}vr(`/summary/${L.orderId}`,{overwriteLastHistoryEntry:!0}).then(()=>{q(Et()),Pe.removeItem("sl-cart")})},[q,h,T]);f.exports.useEffect(()=>{D||q(br({storeId:h,checkoutSettings:A}))},[q,D,h,A]);const $r=wt(),{register:_r,setValue:ea,getValues:Oe,handleSubmit:ra,watch:ta,control:lr,trigger:Mo,setFocus:aa,reset:Pr,formState:{errors:ur}}=$r,dr=ta("paymentMethod"),re=f.exports.useMemo(()=>de==null?void 0:de.find(({name:m,type:L})=>m===dr||L===dr),[de,dr]);f.exports.useEffect(()=>{const m=JSON.parse(Pe.getItem("co_form",()=>null));if(we&&m){const L=we.reduce((_,E)=>(m[E==null?void 0:E.id]&&(E==null?void 0:E.enabled)&&(_[E.id]=m[E.id]),_),{});Ce&&(m==null?void 0:m.deliveryAddress)&&(L.deliveryAddress=m.deliveryAddress),Pr({...Oe(),...L})}},[we,Ce,Pr,Oe]);const He=async(m,L,_)=>{var E,ce,ae,H,mr,mt,pt,ft;if(Ce&&!u){$((E=S.selectShippingMethodAlert)!=null?E:"Please select a shipping method.");const ne=document.getElementById("shipping-method");ne==null||ne.scrollIntoView({behavior:"smooth",block:"center"});return}if(D){ye(!0);return}if(!d)try{if(m.paymentMethod||(m.paymentMethod=""),Pe.setItem("co_form",JSON.stringify(m)),ee(!0),s!=null&&s.appliedCoupon)try{await Ee.post(`/checkout/${h}/verify-coupon`,{couponCode:N(s,"appliedCoupon.code"),formData:m,cartData:xr(s,["subTotal","total"])})}catch(ge){const{message:oe}=(ae=(ce=ge==null?void 0:ge.response)==null?void 0:ce.data)!=null?ae:{};q(Rt()),ee(!1),setTimeout(()=>{zr("couponCode",{message:oe},{shouldFocus:!0})});return}const ne={products:O(b),subTotal:s.subTotal,shippingMethod:u,shipping:o,appliedCoupon:s!=null&&s.discount?s==null?void 0:s.appliedCoupon:null,discount:s.discount,total:s.total},Je=new Date,{deliveryAddress:ht,pickupAddress:ua,paymentMethod:es,...da}=m,Se={orderDetails:{date:En(Je,"dd/MM/yyyy"),referenceNo:(H=m==null?void 0:m.referenceNo)!=null?H:Ot(_,m.paymentMethod),products:k(b),shipping:(mr=N(u,"label"))!=null?mr:"",address:(u==null?void 0:u.id)==="pickup"?ua:Vo(ht),zipCode:(u==null?void 0:u.id)==="pickup"?"":N(ht,"zipCode",""),coupon:(mt=vn(N(s,"appliedCoupon.code")))!=null?mt:"",total:s.total,...re&&{paymentMethod:xr(re,["type","name"])},...da},cartData:ne,metaData:{isIframe:window.self!==window.top&&!Qe}};if(m.paymentMethod==="Stripe"||m.paymentMethod==="Square"){const ge=m.paymentMethod==="Stripe"?`/checkout/${h}/create-checkout-session`:`/checkout/${h}/create-square-session`,oe=await Ee.post(ge,Se).then(me=>me.data);if(window.self!==window.top){if(Qe){window.top.location.replace(oe.url);return}U(!0);const me=window.open(oe.url,"_blank"),pr=setInterval(async()=>{if(me.closed){clearInterval(pr),U(!1);const Xe=oe.orderId,J=await Ee.get(`/store/${h}/orders/${Xe}`).then(_e=>_e.data).catch(_e=>null);(J==null?void 0:J.paymentStatus)==="paid"&&vr(`/summary/${oe.orderId}`,{overwriteLastHistoryEntry:!0}).then(()=>{q(Et()),Pe.removeItem("sl-cart")}),U(!1),ee(!1)}},500)}else window.location.replace(oe.url);return}if(m.paymentMethod==="Razorpay"){const{keyId:ge}=Ne.find(J=>J.type==="Razorpay")||{},oe=await Ee.post(`/checkout/${h}/create-razorpay-order`,Se).then(J=>J.data).catch(J=>{var _e,bt,xt,vt;throw new Error("Razorpay: "+(((vt=(xt=(bt=(_e=J==null?void 0:J.response)==null?void 0:_e.data)==null?void 0:bt.message)==null?void 0:xt.error)==null?void 0:vt.code)||"Oops! Something went wrong."))}),me={};m!=null&&m.name&&(me.name=m==null?void 0:m.name),m!=null&&m.email&&(me.email=m==null?void 0:m.email),m!=null&&m.number&&(me.contact=m==null?void 0:m.number);const pr={key:ge,name:N(y,"storeName"),currency:oe.currency,amount:oe.amount,order_id:oe.id,image:N(C,"header.logo"),handler:function(J){Se.orderDetails.referenceNo=Ot(J.razorpay_payment_id,"Razorpay"),Se.orderDetails.razorpayOrderId=oe.id,Or(Se)},modal:{ondismiss:function(){ee(!1)}},prefill:me},Xe=new window.Razorpay(pr);Xe.open(),Xe.on("payment.failed",function(J){ee(!1),ke(J.error.description||"Oops! Something went wrong."),q(br({storeId:h,checkoutSettings:A}))});return}await Or(Se)}catch(ne){console.log("\u{1F680} ~ submitOrder ~ err",ne);let Je=ne==null?void 0:ne.message;ne.response&&(Je=(ft=(pt=ne.response)==null?void 0:pt.data)==null?void 0:ft.message),q(St()),ke(Je||"Oops! Something went wrong."),ee(!1),q(br({storeId:h,checkoutSettings:A})),window.scrollTo({top:0,behavior:"smooth"})}},na=(m,L)=>{var _;if(Ce&&!u){$((_=S.selectShippingMethodAlert)!=null?_:"Select a shipping method to continue.");const E=document.getElementById("shipping-method");E==null||E.scrollIntoView({behavior:"smooth",block:"center"})}if(gt(m).length===1&&(m==null?void 0:m.paymentMethod)){const E=document.getElementById("payment-method");E==null||E.scrollIntoView({behavior:"smooth",block:"center"})}},Dr=()=>{let m=re==null?void 0:re.paymentLink;const L=re==null?void 0:re.variables;L&&(L==null?void 0:L.length)>0&&L.forEach(_=>{var ae;let E;if(_==="VAR_AMOUNT"){const{precision:H}=ie;E=(ae=s.total)==null?void 0:ae.toFixed(H)}const ce=Oe();for(const H in ce)if(`VAR_${H==null?void 0:H.toUpperCase()}`===_&&ce[H]){E=encodeURIComponent(ce[H]);break}m=m.replaceAll(_,E)}),window.open(m,"_blank"),re!=null&&re.collectPaymentDetails?Ge("askForConfirmation"):(He(Oe()),Ge("paymentCompleted"))},{register:oa,getValues:sa,reset:ia,setError:zr,clearErrors:Fr,formState:{errors:$e}}=wt({defaultValues:{couponCode:(qr=(jr=s==null?void 0:s.appliedCoupon)==null?void 0:jr.code)!=null?qr:""}});f.exports.useState("idle");const ca=async()=>{const{couponCode:m}=sa();if(!m)return;Fr("couponCode");const L=await Ee.post(`/checkout/${h}/verify-coupon`,{couponCode:m,formData:Oe(),cartData:xr(s,["subTotal","total"])}).then(_=>_.data).catch(_=>{var ae,H;const{message:E,errorKey:ce}=(H=(ae=_==null?void 0:_.response)==null?void 0:ae.data)!=null?H:{};zr("couponCode",{message:E},{shouldFocus:!0})});L&&q(bn(L))},la=()=>{q(Rt()),ia({couponCode:""})};return r("section",{id:"cart-page",children:r(tn,{...$r,children:p("div",{className:"cart-container h-full bg-white",children:[r(qa,{children:r("title",{children:`${(Ur=S.shoppingCart)!=null?Ur:"Shopping Cart"} ${K!=null&&K.metaTitle?`| ${K==null?void 0:K.metaTitle}`:""}`})}),r(Wo,{steps:ir,setView:Tr}),Y&&r(_t,{className:{overlay:"bg-opacity-100"}}),(t==="idle"||a)&&r(_t,{}),r(Qo,{customPaymentFlowStatus:Ir,setCustomPaymentFlowStatus:Ge,openPaymentLink:Dr,selectedPaymentMethod:re,isWhatsappOrder:Qe,processOrder:He}),t==="succeeded"&&!w&&r(Ko,{}),t==="succeeded"&&w>0&&p("div",{className:"cart-content mx-auto max-w-2xl px-4 pb-24 pt-2 sm:px-6 sm:pt-4 lg:max-w-7xl lg:px-8",children:[!n&&!c&&!Re(ve)&&r("div",{className:"order-summary-error mt-8 [word-wrap:break_word]",children:r(an,{title:ve,close:()=>ke(null)})}),n&&r(hr,{close:()=>q(pn(!1)),title:(Br=S.attentionNeeded)!=null?Br:"Attention needed",children:(Vr=S.unavailableProductAlert)!=null?Vr:"Some of the products has been removed from cart as they are currently unavailable."}),c&&r(hr,{close:()=>q(fn(!1)),title:(Wr=S.attentionNeeded)!=null?Wr:"Attention needed",children:(Kr=S.priceChangeAlert)!=null?Kr:"Prices of some products have changed since you last added them to the cart."}),r("form",{onSubmit:ra(He,na),className:"cart-form",children:p("div",{className:"cart-layout mt-6 sm:mt-12 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12 xl:gap-x-16",children:[(B==null?void 0:B.id)==="cart"&&p("div",{className:"cart-items lg:col-span-7",children:[r(nn,{items:b}),r("div",{className:"continue-shopping mt-6 text-sm sm:text-base",children:p("a",{href:"/",className:"continue-shopping-link font-medium text-primary-alt decoration-primary-alt/75 transition-colors hover:text-primary-alt/80 hover:underline",children:[(Gr=S.continueShopping)!=null?Gr:"Continue Shopping",r("span",{"aria-hidden":"true",className:"continue-shopping-arrow rtl:rotate-90",children:y!=null&&y.isRtlLanguage?r(j,{children:" \u2190"}):r(j,{children:" \u2192"})})]})})]}),(B==null?void 0:B.id)==="checkout"&&p("div",{className:"checkout-form-container lg:col-span-7",children:[r(jo,{register:_r,control:lr,setValue:ea,setFocus:aa,errors:ur}),Ce&&r(Bo,{register:_r,control:lr,errors:ur,shippingMethods:cr,shippingMethodError:I,setShippingMethodError:$}),(de==null?void 0:de.length)>0&&r(qo,{control:lr,errors:ur,paymentOptions:de})]}),p("section",{"aria-labelledby":"summary-heading",className:"order-summary sticky top-24 mt-16 rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:col-span-5 lg:mt-0 lg:p-8",children:[p("div",{className:"order-summary-content",children:[r("h2",{id:"summary-heading",className:"order-summary-heading text-lg font-medium text-gray-900",children:(Qr=S.orderSummary)!=null?Qr:"Order summary"}),(i("showProductsInSummary")||g)&&r("div",{className:"order-summary-products mt-6 pb-4",children:r("dl",{className:"order-summary-products-list space-y-4",children:b==null?void 0:b.map((m,L)=>{var ce;const{selectedProduct:_,selectedVariant:E}=m!=null?m:{};return p("div",{className:"order-summary-products-item flex",children:[r("div",{className:"order-summary-products-item-thumbnail h-16 w-16 flex-shrink-0 self-start rounded-md",children:m!=null&&m.thumbnail?r("img",{src:Oa(m==null?void 0:m.thumbnail),alt:_==null?void 0:_.name,className:"broken-image-fallback h-full w-full rounded-md object-cover after:bg-[length:16px]"}):r("div",{className:"flex h-16 w-16 cursor-default items-center justify-center rounded-md bg-gray-100",children:r(on,{className:"h-5 w-5 text-gray-400"})})}),p("div",{className:"order-summary-products-item-details ms-4",children:[r("p",{className:"order-summary-products-item-details-name singleline-truncate text-sm font-medium text-gray-900",children:_==null?void 0:_.name}),r("div",{className:"order-summary-products-item-details-variant mt-1 text-sm",children:(ce=gt(E==null?void 0:E.value))==null?void 0:ce.map((ae,H)=>r(f.exports.Fragment,{children:E.value[ae]&&p("p",{className:"order-summary-products-item-details-variant-item text-gray-500",children:[W[ae]," - ",E.value[ae]]})},H))})]}),r("div",{className:"order-summary-products-item-price flex flex-1 justify-end",children:!g&&r("p",{className:"order-summary-products-item-price-amount text-sm font-medium text-gray-900",children:F(m.price)})}),r("div",{className:"order-summary-products-item-remove ms-2 text-sm",children:p("button",{type:"button",className:"inline-flex items-center text-gray-400 hover:text-gray-500 focus:outline-none",onClick:()=>q(hn(m.id)),children:[r("span",{className:"sr-only",children:"Remove"}),r(Ft,{className:"h-5 w-5","aria-hidden":"true"})]})})]},L)})})}),x&&p("div",{className:"order-summary-coupon",children:[p("div",{className:"order-summary-coupon-content mt-4 flex",children:[r("input",{type:"text",className:"block w-full flex-1 rounded-lg border-gray-300 text-sm uppercase shadow-sm placeholder:normal-case focus:border-primary focus:ring-0 disabled:font-medium disabled:text-gray-400 ltr:rounded-br-none ltr:rounded-tr-none rtl:rounded-bl-none rtl:rounded-tl-none",placeholder:(Hr=S.discountCode)!=null?Hr:"Discount code",disabled:s==null?void 0:s.appliedCoupon,...oa("couponCode",{onChange:()=>{$e!=null&&$e.couponCode&&Fr("couponCode")},setValueAs:m=>m==null?void 0:m.toLowerCase()})}),r("button",{type:"button",className:"inline-flex items-center rounded-lg border border-transparent bg-primary px-4 py-1.5 text-sm font-medium text-white hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:cursor-not-allowed ltr:rounded-bl-none ltr:rounded-tl-none rtl:rounded-br-none rtl:rounded-tr-none",onClick:s!=null&&s.appliedCoupon?la:ca,children:s!=null&&s.appliedCoupon?(Xr=S.remove)!=null?Xr:"Remove":(Jr=S.apply)!=null?Jr:"Apply"})]}),N($e,"couponCode")&&r("p",{className:"order-summary-coupon-error mt-1 text-sm text-red-600",id:"$couponCode-error",children:N($e,"couponCode.message")})]}),p("dl",{className:$a("mt-6 space-y-4 ",g&&"hidden"),children:[p("div",{className:"order-summary-subtotal flex items-center justify-between",children:[r("dt",{className:"text-sm text-gray-600",children:`${(Zr=S.subtotal)!=null?Zr:"Subtotal"} (${w} ${(Yr=S.items)!=null?Yr:"items"})`}),r("dd",{className:"text-sm font-medium text-gray-900",children:F(s==null?void 0:s.subTotal)})]}),(s==null?void 0:s.discount)>0&&p("div",{className:"order-summary-discount flex items-center justify-between",children:[p("dt",{className:"text-sm text-gray-600",children:[`${(Mr=S.discount)!=null?Mr:"Discount"}`,p("span",{className:"order-summary-discount-code ml-2 text-xs font-normal uppercase text-gray-500",children:[(et=s==null?void 0:s.appliedCoupon)==null?void 0:et.code," ",((rt=s==null?void 0:s.appliedCoupon)==null?void 0:rt.type)==="percentage"&&`(${(tt=s==null?void 0:s.appliedCoupon)==null?void 0:tt.discountAmount}% off)`,((at=s==null?void 0:s.appliedCoupon)==null?void 0:at.type)==="flat"&&`(${F((nt=s==null?void 0:s.appliedCoupon)==null?void 0:nt.discountAmount)} off)`,((ot=s==null?void 0:s.appliedCoupon)==null?void 0:ot.code)&&r(Vn,{className:"ml-1 inline-flex h-3.5 w-3.5"})]})]}),r("dd",{className:P("text-sm font-medium text-green-600"),children:F(-(s==null?void 0:s.discount))})]}),Ce&&p("div",{className:"order-summary-shipping flex items-center justify-between",children:[r("dt",{className:"text-sm text-gray-600",children:`${(st=S.shipping)!=null?st:"Shipping"}`}),r("dd",{className:P("text-sm",(B==null?void 0:B.id)==="cart"||!u||(u==null?void 0:u.shippingFeeType)==="collectLater"?"font-normal text-gray-400":o===0?"font-medium uppercase tracking-wide  text-green-600":"font-medium  text-gray-900"),children:(B==null?void 0:B.id)==="cart"?(it=S.calculatedAtNextStep)!=null?it:"Calculated at next step":u?(u==null?void 0:u.shippingFeeType)==="collectLater"?(ct=u==null?void 0:u.collectLaterLabel)!=null?ct:"Collect later":o===0?S.free||"FREE":F(o):"-"})]}),p("div",{className:"order-summary-total flex items-center justify-between border-t border-gray-200 pt-4",children:[r("dt",{className:"text-base font-medium text-gray-900",children:(lt=S.total)!=null?lt:"Total"}),r("dd",{className:"text-base font-medium text-gray-900",children:F(s==null?void 0:s.total)})]})]})]}),(B==null?void 0:B.id)==="cart"&&r("div",{className:"order-summary-cta mt-6",children:r("button",{type:"button",onClick:()=>Tr(1),className:P(d?"bg-gray-300":"bg-primary hover:bg-primary-dark focus:ring-primary/75","inline-flex w-full items-center justify-center rounded-lg border border-transparent px-4 py-2 text-base font-medium text-primary-text shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 disabled:cursor-not-allowed"),disabled:!Re(l)||v||M||d,children:(ut=S.continue)!=null?ut:"Continue"})}),(B==null?void 0:B.id)==="checkout"&&r("div",{className:"order-summary-cta mt-6",children:r(Go,{selectedPaymentMethod:re,processOrder:He,customPaymentFlowStatus:Ir,setCustomPaymentFlowStatus:Ge,isWhatsappOrder:Qe,checkoutButtonLoading:M,setCheckoutError:ke,setCheckoutLoading:U,openPaymentLink:Dr})}),G&&r(hr,{close:()=>ye(!1),title:(dt=S.attentionNeeded)!=null?dt:"Attention needed",children:"Checkout is disabled inside preview. Visit your store to test checkout flow."})]})]})})]})]})})})},Wo=({steps:e,setView:t})=>{var v;const a=wr(),n=N(a,"header"),{storeName:c,storeOpen:l}=nr(),{checkFeature:o}=zt(),u=!l,s=se(Ut),b=be(),w=e.findIndex(h=>h.current);e[w];const g=h=>{h>=w||t(h)};return r(j,{children:p("header",{className:P(" sticky top-0 z-10 border-b border-gray-200 bg-white text-sm font-medium text-gray-700"),id:"cart-header",children:[u&&r("div",{className:"maintenance-banner static top-0 z-10 w-full bg-red-500 py-2 text-center text-white",children:r("span",{className:"maintenance-message text-sm font-medium",children:(v=b.maintenanceMode)!=null?v:"Sorry, we are currently not accepting orders. Please check back later."})}),r("div",{className:"cart-header-content relative mx-auto min-h-[68px] max-w-7xl px-4 py-5 lg:px-6 lg:py-6",children:p("div",{className:"cart-header-layout flex justify-between lg:justify-center",children:[p("a",{href:"/",className:P("store-logo flex items-center lg:absolute lg:left-[2rem] lg:top-1/2 lg:-mt-4"),children:[r("span",{className:"sr-only",children:c}),(n==null?void 0:n.logo)&&r("img",{className:"store-logo-image h-8 w-auto min-w-[2rem]",src:n==null?void 0:n.logo,alt:c}),!(n!=null&&n.logo)&&(n==null?void 0:n.showStoreName)&&r("span",{className:"store-name line-clamp-1 inline-block max-w-[200px] text-ellipsis whitespace-nowrap px-1 text-base font-extrabold text-gray-800",children:c})]}),o("showCartSteps")&&!s&&p(j,{children:[r("nav",{"aria-label":"Progress",className:"cart-steps hidden lg:block",children:r("ol",{role:"list",className:"cart-steps-list flex space-x-2.5",children:e.map((h,x)=>{var y;return p("li",{className:"cart-step group flex items-center",children:[p("div",{className:P(x<=w&&"cursor-pointer","cart-step-content flex"),onClick:()=>g(x),children:[h!=null&&h.completed?r("span",{className:"cart-step-icon completed relative flex h-5 w-5 flex-shrink-0 items-center justify-center",children:r(Sn,{className:"h-full w-full text-primary group-hover:text-primary-dark","aria-hidden":"true"})}):h!=null&&h.current?p("span",{className:"cart-step-icon current relative flex h-5 w-5 flex-shrink-0 items-center justify-center","aria-hidden":"true",children:[r("span",{className:"absolute h-4 w-4 rounded-full bg-primary/25"}),r("span",{className:"relative block h-2 w-2 rounded-full bg-primary"})]}):r("div",{className:"cart-step-icon incomplete relative flex h-5 w-5 flex-shrink-0 items-center justify-center","aria-hidden":"true",children:r("div",{className:"h-2 w-2 rounded-full bg-gray-300 group-hover:bg-gray-400"})}),r("span",{"aria-current":"page",className:P("cart-step-label",(h==null?void 0:h.current)&&"text-primary-alt",h!=null&&h.completed?"text-gray-900":"text-gray-500","ms-1"),children:(y=b[h==null?void 0:h.id])!=null?y:h.name})]}),x!==e.length-1?r("span",{className:"cart-step-separator pointer-events-none ml-4 flex h-full cursor-text items-center justify-center text-gray-300","aria-hidden":"true",children:r("div",{className:"h-0.5 w-14 flex-1 rounded-sm bg-gray-100"})}):null]},h.id)})})}),p("p",{className:"cart-step-mobile self-center lg:hidden",children:["Step ",w+1," of 2"]})]})]})})]})})},_t=({className:e={overlay:"bg-opacity-50"}})=>r("div",{className:P("fixed inset-0 z-10 flex items-center justify-center bg-gray-100",e.overlay),children:r("div",{className:P("h-8 w-8 animate-spin rounded-full border-4 border-solid border-t-primary/75",e==null?void 0:e.spinner)})}),Ko=()=>{var n,c,l,o;const e=be(),t=wr(),{isRtlLanguage:a}=nr();return r("div",{className:"flex h-full min-h-mobile items-start py-20 sm:min-h-content sm:items-center",children:p("div",{className:"mx-auto block w-full px-4",children:[p("div",{className:"m-auto h-full w-full max-w-md space-y-2 text-center",children:[r(Po,{primary:(n=t==null?void 0:t.primaryColor)!=null?n:"#2ab202"}),r("h3",{className:"text-3xl font-extrabold sm:text-4xl",children:(c=e.cartIsEmpty)!=null?c:"Cart is empty."}),r("p",{className:"text-sm text-gray-500 sm:text-base",children:(l=e.cartIsEmptySubTitle)!=null?l:"Looks like you haven't added anything to the cart yet."})]}),r("div",{className:"mt-6 text-center",children:p("a",{href:"/",className:"text-sm font-medium text-primary-alt transition-colors hover:text-primary-alt/80 sm:text-base",children:[(o=e.continueShopping)!=null?o:"Continue Shopping",r("span",{"aria-hidden":"true",className:"rtl:rotate-90",children:a?r(j,{children:" \u2190"}):r(j,{children:" \u2192"})})]})})]})})},Go=({selectedPaymentMethod:e,customPaymentFlowStatus:t,setCustomPaymentFlowStatus:a,processOrder:n,isWhatsappOrder:c,checkoutButtonLoading:l,setCheckoutLoading:o,setCheckoutError:u,openPaymentLink:s})=>{var T,ie,le,ue,xe;const{stockExceededItems:b,shipping:w,...g}=se(sr),v=se(Bt),h=nr(),{storeOpen:x}=h,y=!x,R=be(),d=qe(),{isPreview:C}=Vt(),A=f.exports.useMemo(()=>d.payments.paymentMethods.find(D=>D.type==="PayPal"),[d]),{getValues:W,watch:X,trigger:i,formState:{isValid:O}}=jt(),k=X("paymentMethod"),S=(e==null?void 0:e.name)&&(e==null?void 0:e.type)==="Payment Link",K=(D,Y)=>{if(!D||!Y)return;const U=_a[Y],M=(U==null?void 0:U.precision)===0;return!U||!M?D:Math.round(D).toString()},F=p("button",{type:"submit",className:P("checkout-cta-button",c?"checkout-cta-button--whatsapp bg-[#2ab200] text-white hover:bg-[#49bf1f] focus:ring-[#49bf1f]":"checkout-cta-button--default bg-primary text-primary-text hover:bg-primary-dark focus:ring-primary/75","inline-flex w-full items-center justify-center rounded-lg border border-transparent px-4 py-2 text-base font-medium shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 disabled:cursor-not-allowed",l?"disabled:opacity-75":"disabled:bg-gray-300 disabled:text-white"),disabled:!Re(b)||v||l||y,children:[c&&r("img",{src:"/whatsapp.svg",alt:"whatsApp",className:"checkout-cta-button-whatsapp-icon -ms-1 me-2 h-5 w-5","aria-hidden":"true",width:20,height:20}),r("span",{className:"checkout-cta-button-text",children:c?`${(T=R.orderOnWhatsapp)!=null?T:"Place order on WhatsApp"}`:`${(ie=R.checkout)!=null?ie:"Checkout"}`}),r(tr,{as:f.exports.Fragment,show:l,children:p("svg",{className:"checkout-cta-button-loading-icon ml-2 mr-3 h-5 w-5 animate-spin text-white",viewBox:"0 0 24 24",children:[r("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]});if(S)switch(t){case"idle":case"paymentStarted":case"askForConfirmation":return r(j,{children:p("button",{type:"button",onClick:async()=>{!await i(void 0,{shouldFocus:!0})||!Re(b)||v||y||C||(e==null?void 0:e.name)&&(e==null?void 0:e.type)==="Payment Link"&&t==="idle"&&(e!=null&&e.collectPaymentDetails?a("paymentStarted"):s())},className:P("payment-link-button","bg-primary text-primary-text hover:bg-primary-dark focus:ring-primary/75","inline-flex w-full items-center justify-center rounded-lg border border-transparent px-4 py-2 text-base font-medium shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 disabled:cursor-not-allowed",!t==="paymentStarted"?"disabled:bg-gray-300 disabled:text-white":"disabled:opacity-75"),children:[p("span",{className:"payment-link-button-text",children:[(le=R.checkoutWith)!=null?le:"Checkout with"," ",e==null?void 0:e.name]}),r(tr,{as:f.exports.Fragment,show:t!=="idle",children:p("svg",{className:"payment-link-button-loading-icon ml-2 mr-3 h-5 w-5 animate-spin text-white",viewBox:"0 0 24 24",children:[r("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})});case"paymentCompleted":return F;default:return r(j,{})}switch(k){case"PayPal":return p(j,{children:[r(Er,{style:{layout:"vertical",label:"checkout",color:A==null?void 0:A.buttonColor},className:"paypal-checkout-button loader",forceReRender:[g==null?void 0:g.total,A==null?void 0:A.buttonColor,O],fundingSource:"paypal",createOrder:async(D,Y)=>{if(!(!await i(void 0,{shouldFocus:!0})||!Re(b)||v||y||C))return Y.order.create({purchase_units:[{amount:{currency_code:h==null?void 0:h.currency.code,...w>0&&{breakdown:{item_total:{currency_code:h==null?void 0:h.currency.code,value:K(g==null?void 0:g.subTotal,h==null?void 0:h.currency.code)},shipping:{currency_code:h==null?void 0:h.currency.code,value:K(w,h==null?void 0:h.currency.code)}}},value:K(g==null?void 0:g.total,h==null?void 0:h.currency.code)},payee:{email_address:A==null?void 0:A.email}}]}).then(M=>M)},onApprove:async(D,Y)=>Y.order.capture().then(function(U){o(!0);const M=N(U,"purchase_units[0].payments.captures[0].id");console.log("order approved::",U),n(W(),null,M)}),onError:D=>{var U,M;const Y=(U=D==null?void 0:D.message)==null?void 0:U.split(`

`)[1];try{const ee=JSON.parse(Y);u("PayPal Error: "+((M=ee==null?void 0:ee.details[0])==null?void 0:M.description))}catch{u("PayPal Error: Something went wrong, please try again later")}},onCancel:(D,Y)=>{console.log("cancelled",D)}}),c&&p("p",{className:"paypal-whatsapp-info mt-2 text-center text-xs font-medium text-gray-600",children:[(ue=R.checkoutWithPaypal)!=null?ue:"Checkout with PayPal"," ","&"," ",(xe=R.orderOnWhatsapp)!=null?xe:"Place order on WhatsApp"]})]});default:return F}},Qo=({customPaymentFlowStatus:e,setCustomPaymentFlowStatus:t,selectedPaymentMethod:a,openPaymentLink:n,isWhatsappOrder:c,processOrder:l})=>{var h,x,y,R,d,C,A;const o=be(),{total:u}=se(sr),{formatCurrency:s}=ar(),{register:b,trigger:w,getValues:g,formState:{errors:v}}=jt();return r(tr,{as:f.exports.Fragment,show:e==="paymentStarted"||e==="askForConfirmation",enter:"transition-opacity ease-linear duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:p("div",{className:"payment-link-backdrop fixed inset-0 z-20 flex items-center justify-center bg-white",children:[p("div",{className:"payment-link-content relative flex flex-col flex-wrap justify-between gap-4",children:[r("p",{className:"payment-link-instructions text-center text-lg text-gray-700 empty:hidden",children:(a==null?void 0:a.collectPaymentDetails)&&p(j,{children:[(h=o.pay)!=null?h:"Pay"," ",r("b",{children:s(u)})," & ",(x=o.noteThe)!=null?x:"Note the"," ",r("b",{children:a==null?void 0:a.paymentDetailName})]})}),e==="paymentStarted"&&p("div",{className:"payment-link-actions flex flex-col gap-1",children:[r("button",{type:"button",className:"payment-link-open-button inline-flex max-w-md flex-1 items-center justify-center rounded-lg border border-transparent bg-primary px-2 py-2 text-sm font-medium text-white shadow-sm transition-colors hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary/75 focus:ring-offset-2",onClick:n,children:(y=o.openPaymentLink)!=null?y:"Open Payment Link"}),p("button",{type:"button",className:"payment-link-back-button inline-flex max-w-md flex-1 items-center justify-center gap-x-1.5 rounded-lg bg-white px-4 py-2 text-sm font-medium text-gray-500 transition-colors hover:bg-gray-50 focus:outline-none",onClick:()=>t("idle"),children:[r("span",{"aria-hidden":"true",className:"rtl:rotate-90",children:r(j,{children:" \u2190"})}),(R=o.goBack)!=null?R:"Go back"]})]}),e==="askForConfirmation"&&r(j,{children:a!=null&&a.collectPaymentDetails?p(j,{children:[p("div",{className:"payment-link-reference relative mt-1 w-full",children:[r("input",{type:"text",autoComplete:"off",className:P("payment-link-reference-input",N(v,"referenceNo")?"border-red-300 text-red-900 placeholder-red-500 focus:border-red-500 focus:outline-none focus:ring-red-500":"border-gray-300 focus:border-primary/75 focus:ring-primary/75","block w-full rounded-lg text-sm shadow-sm"),placeholder:`${a==null?void 0:a.paymentDetailName}`,...b("referenceNo",{required:(d=o.thisIsRequired)!=null?d:"This is required."})}),N(v,"referenceNo")&&r("div",{className:"payment-link-reference-error pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r(fe,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),p("div",{className:"payment-link-confirmation-actions flex flex-col gap-1",children:[p("button",{type:"button",className:"payment-link-confirm-button inline-flex flex-1 items-center justify-center rounded-lg border border-transparent bg-primary px-2 py-2 text-sm font-medium text-white shadow-sm transition-colors hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary/75 focus:ring-offset-2",onClick:async()=>{!await w("referenceNo",{shouldFocus:!0})||(l(g(),null),t("paymentCompleted"))},children:[c&&r("img",{src:"/whatsapp.svg",alt:"whatsApp",className:"payment-link-confirm-button__whatsapp-icon -ms-1 me-2 h-5 w-5","aria-hidden":"true",width:20,height:20}),(C=o.confirmPayment)!=null?C:"Confirm Payment"]}),r("button",{type:"button",className:"payment-link-cancel-button inline-flex max-w-md flex-1 items-center justify-center gap-x-1.5 rounded-lg bg-white px-4 py-2 text-sm font-medium text-gray-500 transition-colors hover:bg-gray-50 focus:outline-none",onClick:()=>t("idle"),children:(A=o.cancel)!=null?A:"Cancel"})]})]}):r("div",{className:"payment-link-loading flex",children:r("div",{className:"payment-link-loading-spinner inline-block h-6 w-6 animate-spin rounded-full border-[3px] border-current border-t-transparent text-primary",role:"status","aria-label":"loading",children:r("span",{className:"sr-only",children:"Loading..."})})})})]}),r("div",{className:"payment-link-close absolute right-0 top-0 p-4",children:p("button",{type:"button",className:"payment-link-close-button rounded-lg text-white hover:text-gray-100",onClick:()=>t("idle"),children:[r("span",{className:"sr-only",children:"Close"}),r(Ft,{className:"h-6 w-6","aria-hidden":"true"})]})})]})})};function Ho({children:e}){return p(j,{children:[r("main",{className:"min-h-[100vh]",children:e}),r(Cn,{})]})}const{MODE:Jo}={VITE_PAYPAL_CLIENT_SB:"AacWKJyQU2QYEEqQ-jJ4MsPGxairNHk_tbllRNoOxEUgIJzXox6SwSa7BbDPozSCp_sqD-l6kROKcM5t",VITE_PAYPAL_CLIENT_PROD:"AbwYIo7P55_N-ytn94FhPoXtDlOfSCyxz9C-T-B0mHzcggwXi5zDgwtnT3aC_rm4EfKUTsDq1gmZHF_6",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0};function Xo(){const{pageProps:{checkoutError:e}}=Fa(),{currencyCode:t}=ar(),a=qe(),n=a.payments.paymentMethods.find(c=>c.type==="PayPal");return a.payments.paymentMethods.find(c=>c.type==="Payment Link"),n!=null&&n.enabled?r(_o,{options:{"client-id":Jo==="production"?"AbwYIo7P55_N-ytn94FhPoXtDlOfSCyxz9C-T-B0mHzcggwXi5zDgwtnT3aC_rm4EfKUTsDq1gmZHF_6":"AacWKJyQU2QYEEqQ-jJ4MsPGxairNHk_tbllRNoOxEUgIJzXox6SwSa7BbDPozSCp_sqD-l6kROKcM5t",components:"buttons","merchant-id":n==null?void 0:n.email,currency:t,"data-namespace":"paypal_sdk"},children:r($t,{error:e})}):r($t,{})}async function Zo(e){var b;if(!ja())return{pageContext:{pageProps:{}}};const{pageData:t,cookies:a}=e,{store:n}=JSON.parse(t);if(!N(n,"storeSettings.checkout.enabled"))return{pageContext:{redirectTo:"/"}};const l={};a.pi_error&&(l.checkoutError=a.pi_error);const o=N(n,"storeSettings.locale")||{},u=N(n,"storeSettings.seo")||{},s={...u,metaTitle:`${(b=o.shoppingCart)!=null?b:"Shopping Cart"} | ${u==null?void 0:u.metaTitle}`,searchIndex:!1};return{pageContext:{pageProps:l,documentProps:s,fallback:{["/store"]:{store:n}}}}}var gs=Object.freeze(Object.defineProperty({__proto__:null,Page:Xo,onBeforeRender:Zo,Layout:Ho},Symbol.toStringTag,{value:"Module"}));export{qn as C,zn as a,gs as b,Kt as i};