function u(r,e){let t;{var n=Error.stackTraceLimit;Error.stackTraceLimit=1/0,t=new Error(r),Error.stackTraceLimit=n}return t.stack=f(t.stack,e),t}function f(r,e){if(!r)return r;const t=h(r);let n=0;return t.filter(o=>o.includes(" (internal/")||o.includes(" (node:internal")?!1:n<e&&g(o)?(n++,!1):!0).join(`
`)}function g(r){return r.startsWith("    at ")}function h(r){return r.split(/\r?\n/)}const p="0.4.28",i={projectName:"vite-plugin-ssr",projectVersion:p,npmPackageName:"vite-plugin-ssr",githubRepository:"https://github.com/brillout/vite-plugin-ssr",discordInviteToolChannel:"https://discord.com/invite/qTq92FQzKb"};globalThis.__vite_plugin_ssr__instances=globalThis.__vite_plugin_ssr__instances||[];globalThis.__vite_plugin_ssr__instances.push(i.projectVersion);const a=`[${i.npmPackageName}@${i.projectVersion}]`,d=`${a}[Bug]`,m=`${a}[Wrong Usage]`,_=`${a}[Warning]`,$=`${a}[Info]`,l=2;function E(r,e){if(r)return;const t=(()=>{if(!e)return"";const s=typeof e=="string"?e:"`"+JSON.stringify(e)+"`";return`Debug info (this is for the ${i.projectName} maintainers; you can ignore this): ${s}.`})();throw u([`${d} You stumbled upon a bug in ${i.projectName}'s source code.`,`Reach out at ${i.githubRepository}/issues/new or ${i.discordInviteToolChannel} and include this error stack (the error stack is usually enough to fix the problem).`,"A maintainer will fix the bug (usually under 24 hours).",`Do not hesitate to reach out as it makes ${i.projectName} more robust.`,t].join(" "),l)}function k(r,e){if(r)return;const t=e.startsWith("[")?"":" ";throw u(`${m}${t}${e}`,l)}function b(r){return u(`${a} ${r}`,l)}let c=new Set;function T(r,e,{onlyOnce:t,showStackTrace:n}){if(r)return;const s=`${_} ${e}`;if(t){const o=t===!0?s:t;if(c.has(o))return;c.add(o)}console.warn(n?new Error(s):s)}function v(r,e,{onlyOnce:t}){if(r)return;const n=`${$} ${e}`;if(t){const s=n;if(c.has(s))return;c.add(s)}console.log(n)}export{E as a,T as b,k as c,v as d,b as g,i as p};