import{r,b as W,m as k,l as M,c as I,j as s,e as w,d as c,ai as O}from"./chunk-19e1ba83.js";import{b as T,a5 as j,a6 as z,n,a7 as D,a8 as A,s as E}from"./chunk-438c4642.js";import{n as V}from"./chunk-06db561b.js";import"./chunk-5d6d9427.js";import"./chunk-8505b20b.js";import{u as $}from"./chunk-86e11248.js";const H=()=>{const d=r.exports.useRef(),p=r.exports.useRef(),m=r.exports.useRef(),f=r.exports.useRef(),v=$(),y=T(),N=W(),u=k(),a=u==null?void 0:u.categories,o=M(j),{storeOpen:C}=I(),S=!C,[L,h]=r.exports.useState(!1),g=()=>(m.current||(m.current=new Map),m.current),x=e=>{const{current:l}=d,{current:t}=p;t.scrollWidth<t.clientWidth||((t.scrollLeft===0||t.scrollLeft!==t.scrollWidth-t.clientWidth)&&(l.classList.contains("scroll-content-right-shadow")||l.classList.add("scroll-content-right-shadow")),(t.scrollLeft!==0||t.scrollLeft===t.scrollWidth-t.clientWidth)&&(l.classList.contains("scroll-content-left-shadow")||l.classList.toggle("scroll-content-left-shadow")),t.scrollLeft===0&&l.classList.remove("scroll-content-left-shadow"),t.scrollLeft===t.scrollWidth-t.clientWidth&&l.classList.remove("scroll-content-right-shadow"))},R=r.exports.useMemo(()=>z(x,300,{leading:!0,trailing:!0}),[]),b=r.exports.useCallback(e=>{const t=g().get(e),i=f.current?{behavior:"smooth"}:{};f.current=!0,setTimeout(()=>{t==null||t.scrollIntoView({block:"nearest",inline:"center",...i})})},[]);return r.exports.useEffect(()=>{var e;b((e=o==null?void 0:o.slug)!=null?e:"/")},[b,o]),r.exports.useEffect(()=>{x()},[]),s("div",{id:"category-menu",className:w("sticky z-10 border-y border-gray-200 bg-white before:relative",S?"top-[94px] md:top-[108px]":"top-[54px] md:top-[68px]"),children:c("div",{id:"category-menu-wrapper",className:"relative mx-auto max-w-7xl pl-14 lg:pl-6",children:[c(n.Root,{open:L,onOpenChange:h,children:[s(n.Trigger,{asChild:!0,children:s("button",{id:"category-menu-view-all-button",className:"absolute left-2 top-1/2 inline-flex -translate-y-1/2 rounded-md p-2 transition-colors hover:bg-gray-100 focus:outline-none lg:hidden","aria-label":"View all categories",children:s(D,{className:"h-6 w-6 text-gray-600 ","aria-hidden":"true"})})}),c(n.Portal,{children:[s(n.Overlay,{className:"fixed inset-0 z-30 bg-black/40"}),c(n.Content,{id:"category-menu-mobile-drawer",className:"fixed bottom-0 left-0 right-0 z-50 mt-24 flex max-h-[90%] flex-col rounded-t-[10px] bg-white",children:[s(n.Title,{className:"category-menu-mobile-title px-4 py-4 text-lg font-bold",children:"Categories"}),s("div",{id:"category-menu-mobile-list",className:"overflow-y-auto",children:s("div",{className:"flex w-full flex-col gap-1 px-2 pb-4",children:a==null?void 0:a.map((e,l)=>s("a",{href:e.slug==="/"?"/":`/category/${e.slug}`,className:w("category-menu-mobile-item focus:ring-primary-500 block w-full rounded-l rounded-r px-4 py-2 text-left text-sm font-medium hover:bg-gray-50 focus:outline-none"),onClick:t=>{h(!1)},children:e==null?void 0:e.value},e==null?void 0:e.slug))})})]})]})]}),s("div",{id:"category-menu-list",className:"scroll-content-shadow relative mx-auto max-w-7xl border-l py-3 lg:border-none",ref:d,children:s(A,{className:"no-scrollbar category-menu-scroll-container items-center overflow-x-auto whitespace-nowrap pl-2 pr-4 sm:pr-6 lg:pr-8",hideScrollbars:!1,innerRef:p,onScroll:R,children:s("div",{id:"category-menu-items",className:"flex gap-x-2",children:[{value:N.all||"All",slug:"/"},...a].map((e,l)=>s("div",{className:"category-menu-item-wrapper last:pe-6",children:s("a",{href:e.slug==="/"?"/":`/category/${e.slug}`,onClick:()=>{e.slug==="/"&&V("/").then(()=>v(E(null)))},className:O("category-menu-item inline-flex h-8 min-w-[12px] max-w-[20rem] items-center overflow-hidden text-ellipsis rounded-full border border-gray-200 bg-white px-4 text-sm font-medium text-gray-600 transition hover:bg-gray-50",y?"animate-pulse border-gray-200 bg-gray-200 text-transparent":((o==null?void 0:o.slug)===e.slug||!o&&e.slug==="/")&&"category-menu-item-active border-primary/20 bg-primary/10 font-semibold text-primary-alt hover:bg-primary/10 hover:text-primary-alt"),ref:t=>{const i=g();t?i.set(e.slug,t):i.delete(e.slug)},children:e.value})},e.slug+l))})})})]})})};export{H as C};